"use strict";(self.webpackChunkdataviz=self.webpackChunkdataviz||[]).push([[154],{78:(e,o,s)=>{var l=s(706);console.log("lims.ts"),l.d3.json("/lims_logs").then((e=>{console.log(e);const o={},s={"00":[],"01":[],"02":[],"03":[],"04":[],"05":[],"06":[],"07":[],"08":[],"09":[],10:[],11:[],12:[],13:[],14:[],15:[],16:[],17:[],18:[],19:[],20:[],21:[],22:[],23:[]},t={AGRF:{"00":[],"01":[],"02":[],"03":[],"04":[],"05":[],"06":[],"07":[],"08":[],"09":[],10:[],11:[],12:[],13:[],14:[],15:[],16:[],17:[],18:[],19:[],20:[],21:[],22:[],23:[]},client:{"00":[],"01":[],"02":[],"03":[],"04":[],"05":[],"06":[],"07":[],"08":[],"09":[],10:[],11:[],12:[],13:[],14:[],15:[],16:[],17:[],18:[],19:[],20:[],21:[],22:[],23:[]}};l.d3.json("/AGRF/IISlogs_summary.json").then((e=>{console.log("Data is:",e),l.d3.select("#preview").html(`<pre>${JSON.stringify(e,null,2)}</pre>`),e.forEach((e=>{l._.merge(o,e.visitors),Object.entries(e.unique_visitors).forEach((([e,o])=>{s[e].push(Object.keys(o).length);const l={AGRF:0,client:0};Object.keys(o).forEach((e=>{var o;l[(o=e,o.match(/[A-Z]/)?"client":"AGRF")]++})),t.AGRF[e].push(l.AGRF),t.client[e].push(l.client)}))})),console.log("Visitors",o),console.log("Length",Object.keys(o).length),console.log(JSON.stringify(Object.keys(o)));var i={},n={},c={},r={},a={},g={};Object.entries(s).forEach((([e,o])=>{i[e]=o.reduce(((e,o)=>e+o),0)/o.length,n[e]=Math.max(...o),c[e]=t.AGRF[e].reduce(((e,o)=>e+o),0)/t.AGRF[e].length,r[e]=t.client[e].reduce(((e,o)=>e+o),0)/t.client[e].length,a[e]=Math.max(...t.AGRF[e]),g[e]=Math.max(...t.client[e])})),console.log("Hourly visitors",s),console.log("Hourly visitors avg",i),console.log("Max visitors",n),console.log("Hourly AGRF visitors avg",c),console.log("Hourly client visitors avg",r),console.log("Max AGRF visitors",a),console.log("Max client visitors",g)}))}))}},e=>{e(e.s=78)}]);