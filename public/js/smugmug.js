(self.webpackChunkdataviz=self.webpackChunkdataviz||[]).push([[176],{3358:(e,o,t)=>{var n=t(7569),s=t(6580);const a="https://api.smugmug.com",c=a+"/services/oauth/1.0a/getRequestToken",r=a+"/services/oauth/1.0a/getAccessToken",u=a+"/services/oauth/1.0a/authorize",i="KEY-GOES-HERE",l="SECRET-GOES-HERE",p="paste-token-here";var h={Access:"Full",Permissions:"Modify",oauth_callback:encodeURIComponent("https://dataviz.david-ma.net/smugmug-test.html"),oauth_consumer_key:i,oauth_nonce:Math.random().toString().replace("0.",""),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:Date.now(),oauth_token:p},m=encodeURIComponent(n.param(h)),g="GET";h.oauth_signature=A(`${l}&${p}`,`${g}&${encodeURIComponent(c)}&${m}`),s.select("#authorise").attrs({href:u+"?"+n.param(h)}),g="GET";const d={extra:"stuff",oauth_callback:encodeURIComponent("https://dataviz.david-ma.net/smugmug-test.html"),oauth_consumer_key:i,oauth_nonce:Math.random().toString().replace("0.",""),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:Date.now()};m=encodeURIComponent(n.param(d)),d.oauth_signature=A(`${l}&`,`${g}&${encodeURIComponent(c)}&${m}`),console.log("requestParams",d),s.select("#requestToken").attrs({href:c+"?"+n.param(d)});const f={APIKey:i,oauth_consumer_key:i,oauth_nonce:Math.random().toString().replace("0.",""),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:Date.now(),oauth_token:p,oauth_verifier:"paste",oauth_version:"1.0a"},y=encodeURIComponent(n.param(f));g="GET",f.oauth_signature=A(`${l}&paste-token-secret-here`,`${g}&${encodeURIComponent(r)}&${y}`),s.select("#access").attrs({href:r+"?"+n.param(f)});let j="https://photos.david-ma.net/api/v2!siteuser";function A(e,o,t,n){function s(e,o,t,n){return e<20?o&t|~o&n:e<40?o^t^n:e<60?o&t|o&n|t&n:o^t^n}function a(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function c(e,o){const t=(65535&e)+(65535&o);return(e>>16)+(o>>16)+(t>>16)<<16|65535&t}function r(e,o){return e<<o|e>>>32-o}function u(e,o){e[o>>5]|=128<<24-o%32,e[15+(o+64>>9<<4)]=o;const t=[80];let n=1732584193,u=-271733879,i=-1732584194,l=271733878,p=-1009589776;for(let o=0;o<e.length;o+=16){const h=n,m=u,g=i,d=l,f=p;for(let h=0;h<80;h++){t[h]=h<16?e[o+h]:r(t[h-3]^t[h-8]^t[h-14]^t[h-16],1);const m=c(c(r(n,5),s(h,u,i,l)),c(c(p,t[h]),a(h)));p=l,l=i,i=r(u,30),u=n,n=m}n=c(n,h),u=c(u,m),i=c(i,g),l=c(l,d),p=c(p,f)}return[n,u,i,l,p]}function i(e){const o=[],t=(1<<n)-1;for(let s=0;s<e.length*n;s+=n)o[s>>5]|=(e.charCodeAt(s/8)&t)<<32-n-s%32;return o}return t||(t="="),n||(n=8),function(e,o){return function(e){let o="";for(let n=0;n<4*e.length;n+=3){const s=(e[n>>2]>>8*(3-n%4)&255)<<16|(e[n+1>>2]>>8*(3-(n+1)%4)&255)<<8|e[n+2>>2]>>8*(3-(n+2)%4)&255;for(let a=0;a<4;a++)8*n+6*a>32*e.length?o+=t:o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>6*(3-a)&63)}return o}(function(e,o){let t=i(e);t.length>16&&(t=u(t,e.length*n));const s=[16],a=[16];for(let e=0;e<16;e++)s[e]=909522486^t[e],a[e]=1549556828^t[e];const c=u(s.concat(i(o)),512+o.length*n);return u(a.concat(c),672)}(e,o))}(e,o)}function _(e){if(void 0===e)return"";if(e instanceof Array)throw new Error("Array passed to _oauthEscape");return encodeURIComponent(e).replace(/\!/g,"%21").replace(/\*/g,"%2A").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")}function R(e,o){return`OAuth realm="${e}",${Object.keys(o).map((e=>`${e}="${o[e]}"`)).join(",")}`}function v(e,o){const t={oauth_consumer_key:i,oauth_nonce:Math.random().toString().replace("0.",""),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:Date.now(),oauth_token:"paste",oauth_version:"1.0"},s=_(n.param(t));return t.oauth_signature=A(`${l}&paste`,`${e}&${_(o)}&${s}`),t}j="https://api.smugmug.com/api/v2!authuser",j="https://api.smugmug.com/api/v2/node/SCSW8!children",h=v(g="GET",j),globalThis.smugmug=function(){n.ajax({method:g,url:`${j}?${n.param(h)}`,headers:{Accept:"application/json; charset=utf-8"},success:function(e){console.log("Success",e),console.log("Response",e.Response),console.log("Keys: "+Object.keys(e.Response).join(", "))},error:function(e){console.error(e)}})},globalThis.simpleRequest=function(){n.ajax({method:"GET",url:`https://photos.david-ma.net/api/v2!siteuser?APIKey=${i}`,headers:{Accept:"application/json; charset=utf-8"},success:function(e){console.log("Success",e),console.log("Response",e.Response),console.log("Keys: "+Object.keys(e.Response).join(", "))},error:function(e){console.error(e)}})},globalThis.createFolder=function(){const e="https://api.smugmug.com/api/v2/node/rXXjjD!children",o="POST",t=v(o,e);n.ajax({method:o,url:`${e}?${n.param(t)}`,headers:{"Content-Type":"application/json",Accept:"application/json; charset=utf-8"},data:JSON.stringify({Type:"Album",Name:"My Smug Album",UrlName:"My-Smug-Album",Privacy:"Public"}),success:function(e){console.log("Success",e),console.log("Response",e.Response),console.log("Keys: "+Object.keys(e.Response).join(", "))},error:function(e){console.error(e)}})},globalThis.viewFolders=function(){const e="https://api.smugmug.com/api/v2/node/rXXjjD!children",o=v("GET",e);n.ajax({method:"GET",url:`${e}?${n.param(o)}`,headers:{"Content-Type":"application/json",Accept:"application/json; charset=utf-8"},success:function(e){console.log("Success",e),console.log("Response",e.Response),console.log("Keys: "+Object.keys(e.Response).join(", "))},error:function(e){console.error(e)}})},n(document).ready((function(){n("#imageUploadForm").on("submit",(function(e){console.log("hey, clicking "),e.preventDefault();const o=new FormData(this),t="/uploadPhoto",s="POST",a=v(s,t);n.ajax({type:s,url:`${t}`,headers:{"X-Smug-AlbumUri":"/api/v2/album/jHhcL7","X-Smug-ResponseType":"JSON","X-Smug-Version":"v2","Access-Control-Allow-Origin":"*",Authorization:R(t,a),Accept:"application/json; charset=utf-8"},data:o,cache:!1,contentType:!1,processData:!1,success:function(e){console.log("success"),console.log(e)},error:function(e){console.log("error"),console.log(e)}})})),n("#ImageBrowse").on("change",(function(){n("#imageUploadForm").submit()}))})),globalThis.uploadPhoto=function(){const e="https://upload.smugmug.com/api/v2/node/QdvhkM",o="POST",t=v(o,e);n.ajax({method:o,url:`${e}?${n.param(t)}`,headers:{"Content-Type":"application/json",Accept:"application/json; charset=utf-8"},data:JSON.stringify({Type:"Album",Name:"My Smug Album",UrlName:"My-Smug-Album",Privacy:"Public"}),success:function(e){console.log("Success",e),console.log("Response",e.Response),console.log("Keys: "+Object.keys(e.Response).join(", "))},error:function(e){console.error(e)}})},globalThis.authFolders=function(){const e="https://api.smugmug.com/api/v2/node/rXXjjD!children",o=v("GET",e);n.ajax({method:"GET",url:`${e}`,headers:{Authorization:R(e,o),"Content-Type":"application/json",Accept:"application/json; charset=utf-8"},success:function(e){console.log("Success",e),console.log("Response",e.Response),console.log("Keys: "+Object.keys(e.Response).join(", "))},error:function(e){console.error(e)}})}}},e=>{e(e.s=3358)}]);