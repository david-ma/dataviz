"use strict";(self.webpackChunkdataviz=self.webpackChunkdataviz||[]).push([[694],{5523:(t,e,r)=>{r.d(e,{Ay:()=>Jt});var i={};r.r(i),r.d(i,{ActiveCollisionTypes:()=>b,ActiveEvents:()=>p,ActiveHooks:()=>u,Ball:()=>wt,BroadPhase:()=>Q,CCDSolver:()=>Z,Capsule:()=>gt,CharacterCollision:()=>Nt,CoefficientCombineRule:()=>l,Collider:()=>Ft,ColliderDesc:()=>Mt,ColliderSet:()=>jt,ColliderShapeCastHit:()=>ct,Cone:()=>At,ConvexPolyhedron:()=>St,Cuboid:()=>pt,Cylinder:()=>xt,DebugRenderBuffers:()=>Lt,DebugRenderPipeline:()=>Ht,DynamicRayCastVehicleController:()=>Ot,EventQueue:()=>Tt,FeatureType:()=>c,FixedImpulseJoint:()=>k,FixedMultibodyJoint:()=>U,GenericImpulseJoint:()=>B,HalfSpace:()=>dt,HeightFieldFlags:()=>w,Heightfield:()=>Ct,ImpulseJoint:()=>j,ImpulseJointSet:()=>W,IntegrationParameters:()=>M,IslandManager:()=>$,JointAxesMask:()=>_,JointData:()=>G,JointType:()=>a,KinematicCharacterController:()=>Bt,MassPropsMode:()=>m,MotorModel:()=>o,MultibodyJoint:()=>J,MultibodyJointSet:()=>K,NarrowPhase:()=>tt,PhysicsPipeline:()=>zt,PointColliderProjection:()=>st,PointProjection:()=>it,Polyline:()=>yt,PrismaticImpulseJoint:()=>H,PrismaticMultibodyJoint:()=>V,Quaternion:()=>C,QueryFilterFlags:()=>f,QueryPipeline:()=>kt,Ray:()=>nt,RayColliderHit:()=>_t,RayColliderIntersection:()=>ot,RayIntersection:()=>at,RevoluteImpulseJoint:()=>N,RevoluteMultibodyJoint:()=>X,RigidBody:()=>I,RigidBodyDesc:()=>P,RigidBodySet:()=>F,RigidBodyType:()=>n,RopeImpulseJoint:()=>D,RotationOps:()=>x,RoundCone:()=>It,RoundConvexPolyhedron:()=>Rt,RoundCuboid:()=>ut,RoundCylinder:()=>Et,RoundTriangle:()=>ft,SdpMatrix3:()=>E,SdpMatrix3Ops:()=>A,Segment:()=>bt,SerializationPipeline:()=>Dt,Shape:()=>ht,ShapeCastHit:()=>lt,ShapeContact:()=>rt,ShapeType:()=>h,SolverFlags:()=>g,SphericalImpulseJoint:()=>O,SphericalMultibodyJoint:()=>Y,SpringImpulseJoint:()=>L,TempContactForceEvent:()=>Pt,TempContactManifold:()=>et,TriMesh:()=>vt,TriMeshFlags:()=>d,Triangle:()=>mt,UnitImpulseJoint:()=>z,UnitMultibodyJoint:()=>q,Vector3:()=>S,VectorOps:()=>R,World:()=>Gt,version:()=>Wt});const s=r.p+"4f3fdcd6c3e8b9867281.wasm";var n,a,o,_,l,c,h,w,d,p,u,g,b,m,f,y=r.t(s),v=r(4265);(0,v.lI)(y);class S{constructor(t,e,r){this.x=t,this.y=e,this.z=r}}class R{static new(t,e,r){return new S(t,e,r)}static intoRaw(t){return new v.KH(t.x,t.y,t.z)}static zeros(){return R.new(0,0,0)}static fromRaw(t){if(!t)return null;let e=R.new(t.x,t.y,t.z);return t.free(),e}static copy(t,e){t.x=e.x,t.y=e.y,t.z=e.z}}class C{constructor(t,e,r,i){this.x=t,this.y=e,this.z=r,this.w=i}}class x{static identity(){return new C(0,0,0,1)}static fromRaw(t){if(!t)return null;let e=new C(t.x,t.y,t.z,t.w);return t.free(),e}static intoRaw(t){return new v.$M(t.x,t.y,t.z,t.w)}static copy(t,e){t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w}}class E{constructor(t){this.elements=t}get m11(){return this.elements[0]}get m12(){return this.elements[1]}get m21(){return this.m12}get m13(){return this.elements[2]}get m31(){return this.m13}get m22(){return this.elements[3]}get m23(){return this.elements[4]}get m32(){return this.m23}get m33(){return this.elements[5]}}class A{static fromRaw(t){const e=new E(t.elements());return t.free(),e}}!function(t){t[t.Dynamic=0]="Dynamic",t[t.Fixed=1]="Fixed",t[t.KinematicPositionBased=2]="KinematicPositionBased",t[t.KinematicVelocityBased=3]="KinematicVelocityBased"}(n||(n={}));class I{constructor(t,e,r){this.rawSet=t,this.colliderSet=e,this.handle=r}finalizeDeserialization(t){this.colliderSet=t}isValid(){return this.rawSet.contains(this.handle)}lockTranslations(t,e){return this.rawSet.rbLockTranslations(this.handle,t,e)}lockRotations(t,e){return this.rawSet.rbLockRotations(this.handle,t,e)}setEnabledTranslations(t,e,r,i){return this.rawSet.rbSetEnabledTranslations(this.handle,t,e,r,i)}restrictTranslations(t,e,r,i){this.setEnabledTranslations(t,e,r,i)}setEnabledRotations(t,e,r,i){return this.rawSet.rbSetEnabledRotations(this.handle,t,e,r,i)}restrictRotations(t,e,r,i){this.setEnabledRotations(t,e,r,i)}dominanceGroup(){return this.rawSet.rbDominanceGroup(this.handle)}setDominanceGroup(t){this.rawSet.rbSetDominanceGroup(this.handle,t)}additionalSolverIterations(){return this.rawSet.rbAdditionalSolverIterations(this.handle)}setAdditionalSolverIterations(t){this.rawSet.rbSetAdditionalSolverIterations(this.handle,t)}enableCcd(t){this.rawSet.rbEnableCcd(this.handle,t)}setSoftCcdPrediction(t){this.rawSet.rbSetSoftCcdPrediction(this.handle,t)}softCcdPrediction(){return this.rawSet.rbSoftCcdPrediction(this.handle)}translation(){let t=this.rawSet.rbTranslation(this.handle);return R.fromRaw(t)}rotation(){let t=this.rawSet.rbRotation(this.handle);return x.fromRaw(t)}nextTranslation(){let t=this.rawSet.rbNextTranslation(this.handle);return R.fromRaw(t)}nextRotation(){let t=this.rawSet.rbNextRotation(this.handle);return x.fromRaw(t)}setTranslation(t,e){this.rawSet.rbSetTranslation(this.handle,t.x,t.y,t.z,e)}setLinvel(t,e){let r=R.intoRaw(t);this.rawSet.rbSetLinvel(this.handle,r,e),r.free()}gravityScale(){return this.rawSet.rbGravityScale(this.handle)}setGravityScale(t,e){this.rawSet.rbSetGravityScale(this.handle,t,e)}setRotation(t,e){this.rawSet.rbSetRotation(this.handle,t.x,t.y,t.z,t.w,e)}setAngvel(t,e){let r=R.intoRaw(t);this.rawSet.rbSetAngvel(this.handle,r,e),r.free()}setNextKinematicTranslation(t){this.rawSet.rbSetNextKinematicTranslation(this.handle,t.x,t.y,t.z)}setNextKinematicRotation(t){this.rawSet.rbSetNextKinematicRotation(this.handle,t.x,t.y,t.z,t.w)}linvel(){return R.fromRaw(this.rawSet.rbLinvel(this.handle))}angvel(){return R.fromRaw(this.rawSet.rbAngvel(this.handle))}mass(){return this.rawSet.rbMass(this.handle)}effectiveInvMass(){return R.fromRaw(this.rawSet.rbEffectiveInvMass(this.handle))}invMass(){return this.rawSet.rbInvMass(this.handle)}localCom(){return R.fromRaw(this.rawSet.rbLocalCom(this.handle))}worldCom(){return R.fromRaw(this.rawSet.rbWorldCom(this.handle))}invPrincipalInertiaSqrt(){return R.fromRaw(this.rawSet.rbInvPrincipalInertiaSqrt(this.handle))}principalInertia(){return R.fromRaw(this.rawSet.rbPrincipalInertia(this.handle))}principalInertiaLocalFrame(){return x.fromRaw(this.rawSet.rbPrincipalInertiaLocalFrame(this.handle))}effectiveWorldInvInertiaSqrt(){return A.fromRaw(this.rawSet.rbEffectiveWorldInvInertiaSqrt(this.handle))}effectiveAngularInertia(){return A.fromRaw(this.rawSet.rbEffectiveAngularInertia(this.handle))}sleep(){this.rawSet.rbSleep(this.handle)}wakeUp(){this.rawSet.rbWakeUp(this.handle)}isCcdEnabled(){return this.rawSet.rbIsCcdEnabled(this.handle)}numColliders(){return this.rawSet.rbNumColliders(this.handle)}collider(t){return this.colliderSet.get(this.rawSet.rbCollider(this.handle,t))}setEnabled(t){this.rawSet.rbSetEnabled(this.handle,t)}isEnabled(){return this.rawSet.rbIsEnabled(this.handle)}bodyType(){return this.rawSet.rbBodyType(this.handle)}setBodyType(t,e){return this.rawSet.rbSetBodyType(this.handle,t,e)}isSleeping(){return this.rawSet.rbIsSleeping(this.handle)}isMoving(){return this.rawSet.rbIsMoving(this.handle)}isFixed(){return this.rawSet.rbIsFixed(this.handle)}isKinematic(){return this.rawSet.rbIsKinematic(this.handle)}isDynamic(){return this.rawSet.rbIsDynamic(this.handle)}linearDamping(){return this.rawSet.rbLinearDamping(this.handle)}angularDamping(){return this.rawSet.rbAngularDamping(this.handle)}setLinearDamping(t){this.rawSet.rbSetLinearDamping(this.handle,t)}recomputeMassPropertiesFromColliders(){this.rawSet.rbRecomputeMassPropertiesFromColliders(this.handle,this.colliderSet.raw)}setAdditionalMass(t,e){this.rawSet.rbSetAdditionalMass(this.handle,t,e)}setAdditionalMassProperties(t,e,r,i,s){let n=R.intoRaw(e),a=R.intoRaw(r),o=x.intoRaw(i);this.rawSet.rbSetAdditionalMassProperties(this.handle,t,n,a,o,s),n.free(),a.free(),o.free()}setAngularDamping(t){this.rawSet.rbSetAngularDamping(this.handle,t)}resetForces(t){this.rawSet.rbResetForces(this.handle,t)}resetTorques(t){this.rawSet.rbResetTorques(this.handle,t)}addForce(t,e){const r=R.intoRaw(t);this.rawSet.rbAddForce(this.handle,r,e),r.free()}applyImpulse(t,e){const r=R.intoRaw(t);this.rawSet.rbApplyImpulse(this.handle,r,e),r.free()}addTorque(t,e){const r=R.intoRaw(t);this.rawSet.rbAddTorque(this.handle,r,e),r.free()}applyTorqueImpulse(t,e){const r=R.intoRaw(t);this.rawSet.rbApplyTorqueImpulse(this.handle,r,e),r.free()}addForceAtPoint(t,e,r){const i=R.intoRaw(t),s=R.intoRaw(e);this.rawSet.rbAddForceAtPoint(this.handle,i,s,r),i.free(),s.free()}applyImpulseAtPoint(t,e,r){const i=R.intoRaw(t),s=R.intoRaw(e);this.rawSet.rbApplyImpulseAtPoint(this.handle,i,s,r),i.free(),s.free()}userForce(){return R.fromRaw(this.rawSet.rbUserForce(this.handle))}userTorque(){return R.fromRaw(this.rawSet.rbUserTorque(this.handle))}}class P{constructor(t){this.enabled=!0,this.status=t,this.translation=R.zeros(),this.rotation=x.identity(),this.gravityScale=1,this.linvel=R.zeros(),this.mass=0,this.massOnly=!1,this.centerOfMass=R.zeros(),this.translationsEnabledX=!0,this.translationsEnabledY=!0,this.angvel=R.zeros(),this.principalAngularInertia=R.zeros(),this.angularInertiaLocalFrame=x.identity(),this.translationsEnabledZ=!0,this.rotationsEnabledX=!0,this.rotationsEnabledY=!0,this.rotationsEnabledZ=!0,this.linearDamping=0,this.angularDamping=0,this.canSleep=!0,this.sleeping=!1,this.ccdEnabled=!1,this.softCcdPrediction=0,this.dominanceGroup=0,this.additionalSolverIterations=0}static dynamic(){return new P(n.Dynamic)}static kinematicPositionBased(){return new P(n.KinematicPositionBased)}static kinematicVelocityBased(){return new P(n.KinematicVelocityBased)}static fixed(){return new P(n.Fixed)}static newDynamic(){return new P(n.Dynamic)}static newKinematicPositionBased(){return new P(n.KinematicPositionBased)}static newKinematicVelocityBased(){return new P(n.KinematicVelocityBased)}static newStatic(){return new P(n.Fixed)}setDominanceGroup(t){return this.dominanceGroup=t,this}setAdditionalSolverIterations(t){return this.additionalSolverIterations=t,this}setEnabled(t){return this.enabled=t,this}setTranslation(t,e,r){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r)throw TypeError("The translation components must be numbers.");return this.translation={x:t,y:e,z:r},this}setRotation(t){return x.copy(this.rotation,t),this}setGravityScale(t){return this.gravityScale=t,this}setAdditionalMass(t){return this.mass=t,this.massOnly=!0,this}setLinvel(t,e,r){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r)throw TypeError("The linvel components must be numbers.");return this.linvel={x:t,y:e,z:r},this}setAngvel(t){return R.copy(this.angvel,t),this}setAdditionalMassProperties(t,e,r,i){return this.mass=t,R.copy(this.centerOfMass,e),R.copy(this.principalAngularInertia,r),x.copy(this.angularInertiaLocalFrame,i),this.massOnly=!1,this}enabledTranslations(t,e,r){return this.translationsEnabledX=t,this.translationsEnabledY=e,this.translationsEnabledZ=r,this}restrictTranslations(t,e,r){return this.enabledTranslations(t,e,r)}lockTranslations(){return this.enabledTranslations(!1,!1,!1)}enabledRotations(t,e,r){return this.rotationsEnabledX=t,this.rotationsEnabledY=e,this.rotationsEnabledZ=r,this}restrictRotations(t,e,r){return this.enabledRotations(t,e,r)}lockRotations(){return this.restrictRotations(!1,!1,!1)}setLinearDamping(t){return this.linearDamping=t,this}setAngularDamping(t){return this.angularDamping=t,this}setCanSleep(t){return this.canSleep=t,this}setSleeping(t){return this.sleeping=t,this}setCcdEnabled(t){return this.ccdEnabled=t,this}setSoftCcdPrediction(t){return this.softCcdPrediction=t,this}setUserData(t){return this.userData=t,this}}class T{constructor(){this.fconv=new Float64Array(1),this.uconv=new Uint32Array(this.fconv.buffer),this.data=new Array,this.size=0}set(t,e){let r=this.index(t);for(;this.data.length<=r;)this.data.push(null);null==this.data[r]&&(this.size+=1),this.data[r]=e}len(){return this.size}delete(t){let e=this.index(t);e<this.data.length&&(null!=this.data[e]&&(this.size-=1),this.data[e]=null)}clear(){this.data=new Array}get(t){let e=this.index(t);return e<this.data.length?this.data[e]:null}forEach(t){for(const e of this.data)null!=e&&t(e)}getAll(){return this.data.filter((t=>null!=t))}index(t){return this.fconv[0]=t,this.uconv[0]}}class F{constructor(t){this.raw=t||new v.I$,this.map=new T,t&&t.forEachRigidBodyHandle((e=>{this.map.set(e,new I(t,null,e))}))}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach((e=>e.finalizeDeserialization(t)))}createRigidBody(t,e){let r=R.intoRaw(e.translation),i=x.intoRaw(e.rotation),s=R.intoRaw(e.linvel),n=R.intoRaw(e.centerOfMass),a=R.intoRaw(e.angvel),o=R.intoRaw(e.principalAngularInertia),_=x.intoRaw(e.angularInertiaLocalFrame),l=this.raw.createRigidBody(e.enabled,r,i,e.gravityScale,e.mass,e.massOnly,n,s,a,o,_,e.translationsEnabledX,e.translationsEnabledY,e.translationsEnabledZ,e.rotationsEnabledX,e.rotationsEnabledY,e.rotationsEnabledZ,e.linearDamping,e.angularDamping,e.status,e.canSleep,e.sleeping,e.softCcdPrediction,e.ccdEnabled,e.dominanceGroup,e.additionalSolverIterations);r.free(),i.free(),s.free(),n.free(),a.free(),o.free(),_.free();const c=new I(this.raw,t,l);return c.userData=e.userData,this.map.set(l,c),c}remove(t,e,r,i,s){for(let e=0;e<this.raw.rbNumColliders(t);e+=1)r.unmap(this.raw.rbCollider(t,e));i.forEachJointHandleAttachedToRigidBody(t,(t=>i.unmap(t))),s.forEachJointHandleAttachedToRigidBody(t,(t=>s.unmap(t))),this.raw.remove(t,e.raw,r.raw,i.raw,s.raw),this.map.delete(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}forEachActiveRigidBody(t,e){t.forEachActiveRigidBodyHandle((t=>{e(this.get(t))}))}getAll(){return this.map.getAll()}}class M{constructor(t){this.raw=t||new v.xW}free(){this.raw&&this.raw.free(),this.raw=void 0}get dt(){return this.raw.dt}get contact_erp(){return this.raw.contact_erp}get lengthUnit(){return this.raw.lengthUnit}get normalizedAllowedLinearError(){return this.raw.normalizedAllowedLinearError}get normalizedPredictionDistance(){return this.raw.normalizedPredictionDistance}get numSolverIterations(){return this.raw.numSolverIterations}get numAdditionalFrictionIterations(){return this.raw.numAdditionalFrictionIterations}get numInternalPgsIterations(){return this.raw.numInternalPgsIterations}get minIslandSize(){return this.raw.minIslandSize}get maxCcdSubsteps(){return this.raw.maxCcdSubsteps}set dt(t){this.raw.dt=t}set contact_natural_frequency(t){this.raw.contact_natural_frequency=t}set lengthUnit(t){this.raw.lengthUnit=t}set normalizedAllowedLinearError(t){this.raw.normalizedAllowedLinearError=t}set normalizedPredictionDistance(t){this.raw.normalizedPredictionDistance=t}set numSolverIterations(t){this.raw.numSolverIterations=t}set numAdditionalFrictionIterations(t){this.raw.numAdditionalFrictionIterations=t}set numInternalPgsIterations(t){this.raw.numInternalPgsIterations=t}set minIslandSize(t){this.raw.minIslandSize=t}set maxCcdSubsteps(t){this.raw.maxCcdSubsteps=t}switchToStandardPgsSolver(){this.raw.switchToStandardPgsSolver()}switchToSmallStepsPgsSolver(){this.raw.switchToSmallStepsPgsSolver()}switchToSmallStepsPgsSolverWithoutWarmstart(){this.raw.switchToSmallStepsPgsSolverWithoutWarmstart()}}!function(t){t[t.Revolute=0]="Revolute",t[t.Fixed=1]="Fixed",t[t.Prismatic=2]="Prismatic",t[t.Rope=3]="Rope",t[t.Spring=4]="Spring",t[t.Spherical=5]="Spherical",t[t.Generic=6]="Generic"}(a||(a={})),function(t){t[t.AccelerationBased=0]="AccelerationBased",t[t.ForceBased=1]="ForceBased"}(o||(o={})),function(t){t[t.LinX=1]="LinX",t[t.LinY=2]="LinY",t[t.LinZ=4]="LinZ",t[t.AngX=8]="AngX",t[t.AngY=16]="AngY",t[t.AngZ=32]="AngZ"}(_||(_={}));class j{constructor(t,e,r){this.rawSet=t,this.bodySet=e,this.handle=r}static newTyped(t,e,r){switch(t.jointType(r)){case v.Pu.Revolute:return new N(t,e,r);case v.Pu.Prismatic:return new H(t,e,r);case v.Pu.Fixed:return new k(t,e,r);case v.Pu.Spring:return new L(t,e,r);case v.Pu.Rope:return new D(t,e,r);case v.Pu.Spherical:return new O(t,e,r);case v.Pu.Generic:return new B(t,e,r);default:return new j(t,e,r)}}finalizeDeserialization(t){this.bodySet=t}isValid(){return this.rawSet.contains(this.handle)}body1(){return this.bodySet.get(this.rawSet.jointBodyHandle1(this.handle))}body2(){return this.bodySet.get(this.rawSet.jointBodyHandle2(this.handle))}type(){return this.rawSet.jointType(this.handle)}frameX1(){return x.fromRaw(this.rawSet.jointFrameX1(this.handle))}frameX2(){return x.fromRaw(this.rawSet.jointFrameX2(this.handle))}anchor1(){return R.fromRaw(this.rawSet.jointAnchor1(this.handle))}anchor2(){return R.fromRaw(this.rawSet.jointAnchor2(this.handle))}setAnchor1(t){const e=R.intoRaw(t);this.rawSet.jointSetAnchor1(this.handle,e),e.free()}setAnchor2(t){const e=R.intoRaw(t);this.rawSet.jointSetAnchor2(this.handle,e),e.free()}setContactsEnabled(t){this.rawSet.jointSetContactsEnabled(this.handle,t)}contactsEnabled(){return this.rawSet.jointContactsEnabled(this.handle)}}class z extends j{limitsEnabled(){return this.rawSet.jointLimitsEnabled(this.handle,this.rawAxis())}limitsMin(){return this.rawSet.jointLimitsMin(this.handle,this.rawAxis())}limitsMax(){return this.rawSet.jointLimitsMax(this.handle,this.rawAxis())}setLimits(t,e){this.rawSet.jointSetLimits(this.handle,this.rawAxis(),t,e)}configureMotorModel(t){this.rawSet.jointConfigureMotorModel(this.handle,this.rawAxis(),t)}configureMotorVelocity(t,e){this.rawSet.jointConfigureMotorVelocity(this.handle,this.rawAxis(),t,e)}configureMotorPosition(t,e,r){this.rawSet.jointConfigureMotorPosition(this.handle,this.rawAxis(),t,e,r)}configureMotor(t,e,r,i){this.rawSet.jointConfigureMotor(this.handle,this.rawAxis(),t,e,r,i)}}class k extends j{}class D extends j{}class L extends j{}class H extends z{rawAxis(){return v.aF.LinX}}class N extends z{rawAxis(){return v.aF.AngX}}class B extends j{}class O extends j{}class G{constructor(){}static fixed(t,e,r,i){let s=new G;return s.anchor1=t,s.anchor2=r,s.frame1=e,s.frame2=i,s.jointType=a.Fixed,s}static spring(t,e,r,i,s){let n=new G;return n.anchor1=i,n.anchor2=s,n.length=t,n.stiffness=e,n.damping=r,n.jointType=a.Spring,n}static rope(t,e,r){let i=new G;return i.anchor1=e,i.anchor2=r,i.length=t,i.jointType=a.Rope,i}static generic(t,e,r,i){let s=new G;return s.anchor1=t,s.anchor2=e,s.axis=r,s.axesMask=i,s.jointType=a.Generic,s}static spherical(t,e){let r=new G;return r.anchor1=t,r.anchor2=e,r.jointType=a.Spherical,r}static prismatic(t,e,r){let i=new G;return i.anchor1=t,i.anchor2=e,i.axis=r,i.jointType=a.Prismatic,i}static revolute(t,e,r){let i=new G;return i.anchor1=t,i.anchor2=e,i.axis=r,i.jointType=a.Revolute,i}intoRaw(){let t,e,r=R.intoRaw(this.anchor1),i=R.intoRaw(this.anchor2),s=!1,n=0,o=0;switch(this.jointType){case a.Fixed:let _=x.intoRaw(this.frame1),l=x.intoRaw(this.frame2);e=v.FJ.fixed(r,_,i,l),_.free(),l.free();break;case a.Spring:e=v.FJ.spring(this.length,this.stiffness,this.damping,r,i);break;case a.Rope:e=v.FJ.rope(this.length,r,i);break;case a.Prismatic:t=R.intoRaw(this.axis),this.limitsEnabled&&(s=!0,n=this.limits[0],o=this.limits[1]),e=v.FJ.prismatic(r,i,t,s,n,o),t.free();break;case a.Generic:t=R.intoRaw(this.axis);let c=this.axesMask;e=v.FJ.generic(r,i,t,c);break;case a.Spherical:e=v.FJ.spherical(r,i);break;case a.Revolute:t=R.intoRaw(this.axis),e=v.FJ.revolute(r,i,t),t.free()}return r.free(),i.free(),e}}class W{constructor(t){this.raw=t||new v.wT,this.map=new T,t&&t.forEachJointHandle((e=>{this.map.set(e,j.newTyped(t,null,e))}))}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach((e=>e.finalizeDeserialization(t)))}createJoint(t,e,r,i,s){const n=e.intoRaw(),a=this.raw.createJoint(n,r,i,s);n.free();let o=j.newTyped(this.raw,t,a);return this.map.set(a,o),o}remove(t,e){this.raw.remove(t,e),this.unmap(t)}forEachJointHandleAttachedToRigidBody(t,e){this.raw.forEachJointAttachedToRigidBody(t,e)}unmap(t){this.map.delete(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}getAll(){return this.map.getAll()}}class J{constructor(t,e){this.rawSet=t,this.handle=e}static newTyped(t,e){switch(t.jointType(e)){case v.Pu.Revolute:return new X(t,e);case v.Pu.Prismatic:return new V(t,e);case v.Pu.Fixed:return new U(t,e);case v.Pu.Spherical:return new Y(t,e);default:return new J(t,e)}}isValid(){return this.rawSet.contains(this.handle)}setContactsEnabled(t){this.rawSet.jointSetContactsEnabled(this.handle,t)}contactsEnabled(){return this.rawSet.jointContactsEnabled(this.handle)}}class q extends J{}class U extends J{}class V extends q{rawAxis(){return v.aF.LinX}}class X extends q{rawAxis(){return v.aF.AngX}}class Y extends J{}class K{constructor(t){this.raw=t||new v.YK,this.map=new T,t&&t.forEachJointHandle((t=>{this.map.set(t,J.newTyped(this.raw,t))}))}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}createJoint(t,e,r,i){const s=t.intoRaw(),n=this.raw.createJoint(s,e,r,i);s.free();let a=J.newTyped(this.raw,n);return this.map.set(n,a),a}remove(t,e){this.raw.remove(t,e),this.map.delete(t)}unmap(t){this.map.delete(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}forEachJointHandleAttachedToRigidBody(t,e){this.raw.forEachJointAttachedToRigidBody(t,e)}getAll(){return this.map.getAll()}}!function(t){t[t.Average=0]="Average",t[t.Min=1]="Min",t[t.Multiply=2]="Multiply",t[t.Max=3]="Max"}(l||(l={}));class Z{constructor(t){this.raw=t||new v.qj}free(){this.raw&&this.raw.free(),this.raw=void 0}}class ${constructor(t){this.raw=t||new v.z2}free(){this.raw&&this.raw.free(),this.raw=void 0}forEachActiveRigidBodyHandle(t){this.raw.forEachActiveRigidBodyHandle(t)}}class Q{constructor(t){this.raw=t||new v.Y6}free(){this.raw&&this.raw.free(),this.raw=void 0}}class tt{constructor(t){this.raw=t||new v.xm,this.tempManifold=new et(null)}free(){this.raw&&this.raw.free(),this.raw=void 0}contactPairsWith(t,e){this.raw.contact_pairs_with(t,e)}intersectionPairsWith(t,e){this.raw.intersection_pairs_with(t,e)}contactPair(t,e,r){const i=this.raw.contact_pair(t,e);if(i){const e=i.collider1()!=t;let s;for(s=0;s<i.numContactManifolds();++s)this.tempManifold.raw=i.contactManifold(s),this.tempManifold.raw&&r(this.tempManifold,e),this.tempManifold.free();i.free()}}intersectionPair(t,e){return this.raw.intersection_pair(t,e)}}class et{constructor(t){this.raw=t}free(){this.raw&&this.raw.free(),this.raw=void 0}normal(){return R.fromRaw(this.raw.normal())}localNormal1(){return R.fromRaw(this.raw.local_n1())}localNormal2(){return R.fromRaw(this.raw.local_n2())}subshape1(){return this.raw.subshape1()}subshape2(){return this.raw.subshape2()}numContacts(){return this.raw.num_contacts()}localContactPoint1(t){return R.fromRaw(this.raw.contact_local_p1(t))}localContactPoint2(t){return R.fromRaw(this.raw.contact_local_p2(t))}contactDist(t){return this.raw.contact_dist(t)}contactFid1(t){return this.raw.contact_fid1(t)}contactFid2(t){return this.raw.contact_fid2(t)}contactImpulse(t){return this.raw.contact_impulse(t)}contactTangentImpulseX(t){return this.raw.contact_tangent_impulse_x(t)}contactTangentImpulseY(t){return this.raw.contact_tangent_impulse_y(t)}numSolverContacts(){return this.raw.num_solver_contacts()}solverContactPoint(t){return R.fromRaw(this.raw.solver_contact_point(t))}solverContactDist(t){return this.raw.solver_contact_dist(t)}solverContactFriction(t){return this.raw.solver_contact_friction(t)}solverContactRestitution(t){return this.raw.solver_contact_restitution(t)}solverContactTangentVelocity(t){return R.fromRaw(this.raw.solver_contact_tangent_velocity(t))}}class rt{constructor(t,e,r,i,s){this.distance=t,this.point1=e,this.point2=r,this.normal1=i,this.normal2=s}static fromRaw(t){if(!t)return null;const e=new rt(t.distance(),R.fromRaw(t.point1()),R.fromRaw(t.point2()),R.fromRaw(t.normal1()),R.fromRaw(t.normal2()));return t.free(),e}}!function(t){t[t.Vertex=0]="Vertex",t[t.Edge=1]="Edge",t[t.Face=2]="Face",t[t.Unknown=3]="Unknown"}(c||(c={}));class it{constructor(t,e){this.point=t,this.isInside=e}static fromRaw(t){if(!t)return null;const e=new it(R.fromRaw(t.point()),t.isInside());return t.free(),e}}class st{constructor(t,e,r,i,s){this.featureType=c.Unknown,this.featureId=void 0,this.collider=t,this.point=e,this.isInside=r,void 0!==s&&(this.featureId=s),void 0!==i&&(this.featureType=i)}static fromRaw(t,e){if(!e)return null;const r=new st(t.get(e.colliderHandle()),R.fromRaw(e.point()),e.isInside(),e.featureType(),e.featureId());return e.free(),r}}class nt{constructor(t,e){this.origin=t,this.dir=e}pointAt(t){return{x:this.origin.x+this.dir.x*t,y:this.origin.y+this.dir.y*t,z:this.origin.z+this.dir.z*t}}}class at{constructor(t,e,r,i){this.featureType=c.Unknown,this.featureId=void 0,this.timeOfImpact=t,this.normal=e,void 0!==i&&(this.featureId=i),void 0!==r&&(this.featureType=r)}static fromRaw(t){if(!t)return null;const e=new at(t.time_of_impact(),R.fromRaw(t.normal()),t.featureType(),t.featureId());return t.free(),e}}class ot{constructor(t,e,r,i,s){this.featureType=c.Unknown,this.featureId=void 0,this.collider=t,this.timeOfImpact=e,this.normal=r,void 0!==s&&(this.featureId=s),void 0!==i&&(this.featureType=i)}static fromRaw(t,e){if(!e)return null;const r=new ot(t.get(e.colliderHandle()),e.time_of_impact(),R.fromRaw(e.normal()),e.featureType(),e.featureId());return e.free(),r}}class _t{constructor(t,e){this.collider=t,this.timeOfImpact=e}static fromRaw(t,e){if(!e)return null;const r=new _t(t.get(e.colliderHandle()),e.timeOfImpact());return e.free(),r}}class lt{constructor(t,e,r,i,s){this.time_of_impact=t,this.witness1=e,this.witness2=r,this.normal1=i,this.normal2=s}static fromRaw(t,e){if(!e)return null;const r=new lt(e.time_of_impact(),R.fromRaw(e.witness1()),R.fromRaw(e.witness2()),R.fromRaw(e.normal1()),R.fromRaw(e.normal2()));return e.free(),r}}class ct extends lt{constructor(t,e,r,i,s,n){super(e,r,i,s,n),this.collider=t}static fromRaw(t,e){if(!e)return null;const r=new ct(t.get(e.colliderHandle()),e.time_of_impact(),R.fromRaw(e.witness1()),R.fromRaw(e.witness2()),R.fromRaw(e.normal1()),R.fromRaw(e.normal2()));return e.free(),r}}class ht{static fromRaw(t,e){const r=t.coShapeType(e);let i,s,n,a,o,_,l;switch(r){case v.m3.Ball:return new wt(t.coRadius(e));case v.m3.Cuboid:return i=t.coHalfExtents(e),new pt(i.x,i.y,i.z);case v.m3.RoundCuboid:return i=t.coHalfExtents(e),s=t.coRoundRadius(e),new ut(i.x,i.y,i.z,s);case v.m3.Capsule:return o=t.coHalfHeight(e),_=t.coRadius(e),new gt(o,_);case v.m3.Segment:return n=t.coVertices(e),new bt(R.new(n[0],n[1],n[2]),R.new(n[3],n[4],n[5]));case v.m3.Polyline:return n=t.coVertices(e),a=t.coIndices(e),new yt(n,a);case v.m3.Triangle:return n=t.coVertices(e),new mt(R.new(n[0],n[1],n[2]),R.new(n[3],n[4],n[5]),R.new(n[6],n[7],n[8]));case v.m3.RoundTriangle:return n=t.coVertices(e),s=t.coRoundRadius(e),new ft(R.new(n[0],n[1],n[2]),R.new(n[3],n[4],n[5]),R.new(n[6],n[7],n[8]),s);case v.m3.HalfSpace:return l=R.fromRaw(t.coHalfspaceNormal(e)),new dt(l);case v.m3.TriMesh:n=t.coVertices(e),a=t.coIndices(e);const c=t.coTriMeshFlags(e);return new vt(n,a,c);case v.m3.HeightField:const h=t.coHeightfieldScale(e),w=t.coHeightfieldHeights(e),d=t.coHeightfieldNRows(e),p=t.coHeightfieldNCols(e),u=t.coHeightFieldFlags(e);return new Ct(d,p,w,h,u);case v.m3.ConvexPolyhedron:return n=t.coVertices(e),a=t.coIndices(e),new St(n,a);case v.m3.RoundConvexPolyhedron:return n=t.coVertices(e),a=t.coIndices(e),s=t.coRoundRadius(e),new Rt(n,a,s);case v.m3.Cylinder:return o=t.coHalfHeight(e),_=t.coRadius(e),new xt(o,_);case v.m3.RoundCylinder:return o=t.coHalfHeight(e),_=t.coRadius(e),s=t.coRoundRadius(e),new Et(o,_,s);case v.m3.Cone:return o=t.coHalfHeight(e),_=t.coRadius(e),new At(o,_);case v.m3.RoundCone:return o=t.coHalfHeight(e),_=t.coRadius(e),s=t.coRoundRadius(e),new It(o,_,s);default:throw new Error("unknown shape type: "+r)}}castShape(t,e,r,i,s,n,a,o,_,l){let c=R.intoRaw(t),h=x.intoRaw(e),w=R.intoRaw(r),d=R.intoRaw(s),p=x.intoRaw(n),u=R.intoRaw(a),g=this.intoRaw(),b=i.intoRaw(),m=lt.fromRaw(null,g.castShape(c,h,w,b,d,p,u,o,_,l));return c.free(),h.free(),w.free(),d.free(),p.free(),u.free(),g.free(),b.free(),m}intersectsShape(t,e,r,i,s){let n=R.intoRaw(t),a=x.intoRaw(e),o=R.intoRaw(i),_=x.intoRaw(s),l=this.intoRaw(),c=r.intoRaw(),h=l.intersectsShape(n,a,c,o,_);return n.free(),a.free(),o.free(),_.free(),l.free(),c.free(),h}contactShape(t,e,r,i,s,n){let a=R.intoRaw(t),o=x.intoRaw(e),_=R.intoRaw(i),l=x.intoRaw(s),c=this.intoRaw(),h=r.intoRaw(),w=rt.fromRaw(c.contactShape(a,o,h,_,l,n));return a.free(),o.free(),_.free(),l.free(),c.free(),h.free(),w}containsPoint(t,e,r){let i=R.intoRaw(t),s=x.intoRaw(e),n=R.intoRaw(r),a=this.intoRaw(),o=a.containsPoint(i,s,n);return i.free(),s.free(),n.free(),a.free(),o}projectPoint(t,e,r,i){let s=R.intoRaw(t),n=x.intoRaw(e),a=R.intoRaw(r),o=this.intoRaw(),_=it.fromRaw(o.projectPoint(s,n,a,i));return s.free(),n.free(),a.free(),o.free(),_}intersectsRay(t,e,r,i){let s=R.intoRaw(e),n=x.intoRaw(r),a=R.intoRaw(t.origin),o=R.intoRaw(t.dir),_=this.intoRaw(),l=_.intersectsRay(s,n,a,o,i);return s.free(),n.free(),a.free(),o.free(),_.free(),l}castRay(t,e,r,i,s){let n=R.intoRaw(e),a=x.intoRaw(r),o=R.intoRaw(t.origin),_=R.intoRaw(t.dir),l=this.intoRaw(),c=l.castRay(n,a,o,_,i,s);return n.free(),a.free(),o.free(),_.free(),l.free(),c}castRayAndGetNormal(t,e,r,i,s){let n=R.intoRaw(e),a=x.intoRaw(r),o=R.intoRaw(t.origin),_=R.intoRaw(t.dir),l=this.intoRaw(),c=at.fromRaw(l.castRayAndGetNormal(n,a,o,_,i,s));return n.free(),a.free(),o.free(),_.free(),l.free(),c}}!function(t){t[t.Ball=0]="Ball",t[t.Cuboid=1]="Cuboid",t[t.Capsule=2]="Capsule",t[t.Segment=3]="Segment",t[t.Polyline=4]="Polyline",t[t.Triangle=5]="Triangle",t[t.TriMesh=6]="TriMesh",t[t.HeightField=7]="HeightField",t[t.ConvexPolyhedron=9]="ConvexPolyhedron",t[t.Cylinder=10]="Cylinder",t[t.Cone=11]="Cone",t[t.RoundCuboid=12]="RoundCuboid",t[t.RoundTriangle=13]="RoundTriangle",t[t.RoundCylinder=14]="RoundCylinder",t[t.RoundCone=15]="RoundCone",t[t.RoundConvexPolyhedron=16]="RoundConvexPolyhedron",t[t.HalfSpace=17]="HalfSpace"}(h||(h={})),function(t){t[t.FIX_INTERNAL_EDGES=1]="FIX_INTERNAL_EDGES"}(w||(w={})),function(t){t[t.DELETE_BAD_TOPOLOGY_TRIANGLES=4]="DELETE_BAD_TOPOLOGY_TRIANGLES",t[t.ORIENTED=8]="ORIENTED",t[t.MERGE_DUPLICATE_VERTICES=16]="MERGE_DUPLICATE_VERTICES",t[t.DELETE_DEGENERATE_TRIANGLES=32]="DELETE_DEGENERATE_TRIANGLES",t[t.DELETE_DUPLICATE_TRIANGLES=64]="DELETE_DUPLICATE_TRIANGLES",t[t.FIX_INTERNAL_EDGES=152]="FIX_INTERNAL_EDGES"}(d||(d={}));class wt extends ht{constructor(t){super(),this.type=h.Ball,this.radius=t}intoRaw(){return v.co.ball(this.radius)}}class dt extends ht{constructor(t){super(),this.type=h.HalfSpace,this.normal=t}intoRaw(){let t=R.intoRaw(this.normal),e=v.co.halfspace(t);return t.free(),e}}class pt extends ht{constructor(t,e,r){super(),this.type=h.Cuboid,this.halfExtents=R.new(t,e,r)}intoRaw(){return v.co.cuboid(this.halfExtents.x,this.halfExtents.y,this.halfExtents.z)}}class ut extends ht{constructor(t,e,r,i){super(),this.type=h.RoundCuboid,this.halfExtents=R.new(t,e,r),this.borderRadius=i}intoRaw(){return v.co.roundCuboid(this.halfExtents.x,this.halfExtents.y,this.halfExtents.z,this.borderRadius)}}class gt extends ht{constructor(t,e){super(),this.type=h.Capsule,this.halfHeight=t,this.radius=e}intoRaw(){return v.co.capsule(this.halfHeight,this.radius)}}class bt extends ht{constructor(t,e){super(),this.type=h.Segment,this.a=t,this.b=e}intoRaw(){let t=R.intoRaw(this.a),e=R.intoRaw(this.b),r=v.co.segment(t,e);return t.free(),e.free(),r}}class mt extends ht{constructor(t,e,r){super(),this.type=h.Triangle,this.a=t,this.b=e,this.c=r}intoRaw(){let t=R.intoRaw(this.a),e=R.intoRaw(this.b),r=R.intoRaw(this.c),i=v.co.triangle(t,e,r);return t.free(),e.free(),r.free(),i}}class ft extends ht{constructor(t,e,r,i){super(),this.type=h.RoundTriangle,this.a=t,this.b=e,this.c=r,this.borderRadius=i}intoRaw(){let t=R.intoRaw(this.a),e=R.intoRaw(this.b),r=R.intoRaw(this.c),i=v.co.roundTriangle(t,e,r,this.borderRadius);return t.free(),e.free(),r.free(),i}}class yt extends ht{constructor(t,e){super(),this.type=h.Polyline,this.vertices=t,this.indices=null!=e?e:new Uint32Array(0)}intoRaw(){return v.co.polyline(this.vertices,this.indices)}}class vt extends ht{constructor(t,e,r){super(),this.type=h.TriMesh,this.vertices=t,this.indices=e,this.flags=r}intoRaw(){return v.co.trimesh(this.vertices,this.indices,this.flags)}}class St extends ht{constructor(t,e){super(),this.type=h.ConvexPolyhedron,this.vertices=t,this.indices=e}intoRaw(){return this.indices?v.co.convexMesh(this.vertices,this.indices):v.co.convexHull(this.vertices)}}class Rt extends ht{constructor(t,e,r){super(),this.type=h.RoundConvexPolyhedron,this.vertices=t,this.indices=e,this.borderRadius=r}intoRaw(){return this.indices?v.co.roundConvexMesh(this.vertices,this.indices,this.borderRadius):v.co.roundConvexHull(this.vertices,this.borderRadius)}}class Ct extends ht{constructor(t,e,r,i,s){super(),this.type=h.HeightField,this.nrows=t,this.ncols=e,this.heights=r,this.scale=i,this.flags=s}intoRaw(){let t=R.intoRaw(this.scale),e=v.co.heightfield(this.nrows,this.ncols,this.heights,t,this.flags);return t.free(),e}}class xt extends ht{constructor(t,e){super(),this.type=h.Cylinder,this.halfHeight=t,this.radius=e}intoRaw(){return v.co.cylinder(this.halfHeight,this.radius)}}class Et extends ht{constructor(t,e,r){super(),this.type=h.RoundCylinder,this.borderRadius=r,this.halfHeight=t,this.radius=e}intoRaw(){return v.co.roundCylinder(this.halfHeight,this.radius,this.borderRadius)}}class At extends ht{constructor(t,e){super(),this.type=h.Cone,this.halfHeight=t,this.radius=e}intoRaw(){return v.co.cone(this.halfHeight,this.radius)}}class It extends ht{constructor(t,e,r){super(),this.type=h.RoundCone,this.halfHeight=t,this.radius=e,this.borderRadius=r}intoRaw(){return v.co.roundCone(this.halfHeight,this.radius,this.borderRadius)}}!function(t){t[t.NONE=0]="NONE",t[t.COLLISION_EVENTS=1]="COLLISION_EVENTS",t[t.CONTACT_FORCE_EVENTS=2]="CONTACT_FORCE_EVENTS"}(p||(p={}));class Pt{free(){this.raw&&this.raw.free(),this.raw=void 0}collider1(){return this.raw.collider1()}collider2(){return this.raw.collider2()}totalForce(){return R.fromRaw(this.raw.total_force())}totalForceMagnitude(){return this.raw.total_force_magnitude()}maxForceDirection(){return R.fromRaw(this.raw.max_force_direction())}maxForceMagnitude(){return this.raw.max_force_magnitude()}}class Tt{constructor(t,e){this.raw=e||new v.m7(t)}free(){this.raw&&this.raw.free(),this.raw=void 0}drainCollisionEvents(t){this.raw.drainCollisionEvents(t)}drainContactForceEvents(t){let e=new Pt;this.raw.drainContactForceEvents((r=>{e.raw=r,t(e),e.free()}))}clear(){this.raw.clear()}}!function(t){t[t.NONE=0]="NONE",t[t.FILTER_CONTACT_PAIRS=1]="FILTER_CONTACT_PAIRS",t[t.FILTER_INTERSECTION_PAIRS=2]="FILTER_INTERSECTION_PAIRS"}(u||(u={})),function(t){t[t.EMPTY=0]="EMPTY",t[t.COMPUTE_IMPULSE=1]="COMPUTE_IMPULSE"}(g||(g={})),function(t){t[t.DYNAMIC_DYNAMIC=1]="DYNAMIC_DYNAMIC",t[t.DYNAMIC_KINEMATIC=12]="DYNAMIC_KINEMATIC",t[t.DYNAMIC_FIXED=2]="DYNAMIC_FIXED",t[t.KINEMATIC_KINEMATIC=52224]="KINEMATIC_KINEMATIC",t[t.KINEMATIC_FIXED=8704]="KINEMATIC_FIXED",t[t.FIXED_FIXED=32]="FIXED_FIXED",t[t.DEFAULT=15]="DEFAULT",t[t.ALL=60943]="ALL"}(b||(b={}));class Ft{constructor(t,e,r,i){this.colliderSet=t,this.handle=e,this._parent=r,this._shape=i}finalizeDeserialization(t){null!=this.handle&&(this._parent=t.get(this.colliderSet.raw.coParent(this.handle)))}ensureShapeIsCached(){this._shape||(this._shape=ht.fromRaw(this.colliderSet.raw,this.handle))}get shape(){return this.ensureShapeIsCached(),this._shape}isValid(){return this.colliderSet.raw.contains(this.handle)}translation(){return R.fromRaw(this.colliderSet.raw.coTranslation(this.handle))}rotation(){return x.fromRaw(this.colliderSet.raw.coRotation(this.handle))}isSensor(){return this.colliderSet.raw.coIsSensor(this.handle)}setSensor(t){this.colliderSet.raw.coSetSensor(this.handle,t)}setShape(t){let e=t.intoRaw();this.colliderSet.raw.coSetShape(this.handle,e),e.free(),this._shape=t}setEnabled(t){this.colliderSet.raw.coSetEnabled(this.handle,t)}isEnabled(){return this.colliderSet.raw.coIsEnabled(this.handle)}setRestitution(t){this.colliderSet.raw.coSetRestitution(this.handle,t)}setFriction(t){this.colliderSet.raw.coSetFriction(this.handle,t)}frictionCombineRule(){return this.colliderSet.raw.coFrictionCombineRule(this.handle)}setFrictionCombineRule(t){this.colliderSet.raw.coSetFrictionCombineRule(this.handle,t)}restitutionCombineRule(){return this.colliderSet.raw.coRestitutionCombineRule(this.handle)}setRestitutionCombineRule(t){this.colliderSet.raw.coSetRestitutionCombineRule(this.handle,t)}setCollisionGroups(t){this.colliderSet.raw.coSetCollisionGroups(this.handle,t)}setSolverGroups(t){this.colliderSet.raw.coSetSolverGroups(this.handle,t)}contactSkin(){return this.colliderSet.raw.coContactSkin(this.handle)}setContactSkin(t){return this.colliderSet.raw.coSetContactSkin(this.handle,t)}activeHooks(){return this.colliderSet.raw.coActiveHooks(this.handle)}setActiveHooks(t){this.colliderSet.raw.coSetActiveHooks(this.handle,t)}activeEvents(){return this.colliderSet.raw.coActiveEvents(this.handle)}setActiveEvents(t){this.colliderSet.raw.coSetActiveEvents(this.handle,t)}activeCollisionTypes(){return this.colliderSet.raw.coActiveCollisionTypes(this.handle)}setContactForceEventThreshold(t){return this.colliderSet.raw.coSetContactForceEventThreshold(this.handle,t)}contactForceEventThreshold(){return this.colliderSet.raw.coContactForceEventThreshold(this.handle)}setActiveCollisionTypes(t){this.colliderSet.raw.coSetActiveCollisionTypes(this.handle,t)}setDensity(t){this.colliderSet.raw.coSetDensity(this.handle,t)}setMass(t){this.colliderSet.raw.coSetMass(this.handle,t)}setMassProperties(t,e,r,i){let s=R.intoRaw(e),n=R.intoRaw(r),a=x.intoRaw(i);this.colliderSet.raw.coSetMassProperties(this.handle,t,s,n,a),s.free(),n.free(),a.free()}setTranslation(t){this.colliderSet.raw.coSetTranslation(this.handle,t.x,t.y,t.z)}setTranslationWrtParent(t){this.colliderSet.raw.coSetTranslationWrtParent(this.handle,t.x,t.y,t.z)}setRotation(t){this.colliderSet.raw.coSetRotation(this.handle,t.x,t.y,t.z,t.w)}setRotationWrtParent(t){this.colliderSet.raw.coSetRotationWrtParent(this.handle,t.x,t.y,t.z,t.w)}shapeType(){return this.colliderSet.raw.coShapeType(this.handle)}halfExtents(){return R.fromRaw(this.colliderSet.raw.coHalfExtents(this.handle))}setHalfExtents(t){const e=R.intoRaw(t);this.colliderSet.raw.coSetHalfExtents(this.handle,e)}radius(){return this.colliderSet.raw.coRadius(this.handle)}setRadius(t){this.colliderSet.raw.coSetRadius(this.handle,t)}roundRadius(){return this.colliderSet.raw.coRoundRadius(this.handle)}setRoundRadius(t){this.colliderSet.raw.coSetRoundRadius(this.handle,t)}halfHeight(){return this.colliderSet.raw.coHalfHeight(this.handle)}setHalfHeight(t){this.colliderSet.raw.coSetHalfHeight(this.handle,t)}vertices(){return this.colliderSet.raw.coVertices(this.handle)}indices(){return this.colliderSet.raw.coIndices(this.handle)}heightfieldHeights(){return this.colliderSet.raw.coHeightfieldHeights(this.handle)}heightfieldScale(){let t=this.colliderSet.raw.coHeightfieldScale(this.handle);return R.fromRaw(t)}heightfieldNRows(){return this.colliderSet.raw.coHeightfieldNRows(this.handle)}heightfieldNCols(){return this.colliderSet.raw.coHeightfieldNCols(this.handle)}parent(){return this._parent}friction(){return this.colliderSet.raw.coFriction(this.handle)}restitution(){return this.colliderSet.raw.coRestitution(this.handle)}density(){return this.colliderSet.raw.coDensity(this.handle)}mass(){return this.colliderSet.raw.coMass(this.handle)}volume(){return this.colliderSet.raw.coVolume(this.handle)}collisionGroups(){return this.colliderSet.raw.coCollisionGroups(this.handle)}solverGroups(){return this.colliderSet.raw.coSolverGroups(this.handle)}containsPoint(t){let e=R.intoRaw(t),r=this.colliderSet.raw.coContainsPoint(this.handle,e);return e.free(),r}projectPoint(t,e){let r=R.intoRaw(t),i=it.fromRaw(this.colliderSet.raw.coProjectPoint(this.handle,r,e));return r.free(),i}intersectsRay(t,e){let r=R.intoRaw(t.origin),i=R.intoRaw(t.dir),s=this.colliderSet.raw.coIntersectsRay(this.handle,r,i,e);return r.free(),i.free(),s}castShape(t,e,r,i,s,n,a,o){let _=R.intoRaw(t),l=R.intoRaw(r),c=x.intoRaw(i),h=R.intoRaw(s),w=e.intoRaw(),d=lt.fromRaw(this.colliderSet,this.colliderSet.raw.coCastShape(this.handle,_,w,l,c,h,n,a,o));return _.free(),l.free(),c.free(),h.free(),w.free(),d}castCollider(t,e,r,i,s,n){let a=R.intoRaw(t),o=R.intoRaw(r),_=ct.fromRaw(this.colliderSet,this.colliderSet.raw.coCastCollider(this.handle,a,e.handle,o,i,s,n));return a.free(),o.free(),_}intersectsShape(t,e,r){let i=R.intoRaw(e),s=x.intoRaw(r),n=t.intoRaw(),a=this.colliderSet.raw.coIntersectsShape(this.handle,n,i,s);return i.free(),s.free(),n.free(),a}contactShape(t,e,r,i){let s=R.intoRaw(e),n=x.intoRaw(r),a=t.intoRaw(),o=rt.fromRaw(this.colliderSet.raw.coContactShape(this.handle,a,s,n,i));return s.free(),n.free(),a.free(),o}contactCollider(t,e){return rt.fromRaw(this.colliderSet.raw.coContactCollider(this.handle,t.handle,e))}castRay(t,e,r){let i=R.intoRaw(t.origin),s=R.intoRaw(t.dir),n=this.colliderSet.raw.coCastRay(this.handle,i,s,e,r);return i.free(),s.free(),n}castRayAndGetNormal(t,e,r){let i=R.intoRaw(t.origin),s=R.intoRaw(t.dir),n=at.fromRaw(this.colliderSet.raw.coCastRayAndGetNormal(this.handle,i,s,e,r));return i.free(),s.free(),n}}!function(t){t[t.Density=0]="Density",t[t.Mass=1]="Mass",t[t.MassProps=2]="MassProps"}(m||(m={}));class Mt{constructor(t){this.enabled=!0,this.shape=t,this.massPropsMode=m.Density,this.density=1,this.friction=.5,this.restitution=0,this.rotation=x.identity(),this.translation=R.zeros(),this.isSensor=!1,this.collisionGroups=4294967295,this.solverGroups=4294967295,this.frictionCombineRule=l.Average,this.restitutionCombineRule=l.Average,this.activeCollisionTypes=b.DEFAULT,this.activeEvents=p.NONE,this.activeHooks=u.NONE,this.mass=0,this.centerOfMass=R.zeros(),this.contactForceEventThreshold=0,this.contactSkin=0,this.principalAngularInertia=R.zeros(),this.angularInertiaLocalFrame=x.identity()}static ball(t){const e=new wt(t);return new Mt(e)}static capsule(t,e){const r=new gt(t,e);return new Mt(r)}static segment(t,e){const r=new bt(t,e);return new Mt(r)}static triangle(t,e,r){const i=new mt(t,e,r);return new Mt(i)}static roundTriangle(t,e,r,i){const s=new ft(t,e,r,i);return new Mt(s)}static polyline(t,e){const r=new yt(t,e);return new Mt(r)}static trimesh(t,e,r){const i=new vt(t,e,r);return new Mt(i)}static cuboid(t,e,r){const i=new pt(t,e,r);return new Mt(i)}static roundCuboid(t,e,r,i){const s=new ut(t,e,r,i);return new Mt(s)}static heightfield(t,e,r,i,s){const n=new Ct(t,e,r,i,s);return new Mt(n)}static cylinder(t,e){const r=new xt(t,e);return new Mt(r)}static roundCylinder(t,e,r){const i=new Et(t,e,r);return new Mt(i)}static cone(t,e){const r=new At(t,e);return new Mt(r)}static roundCone(t,e,r){const i=new It(t,e,r);return new Mt(i)}static convexHull(t){const e=new St(t,null);return new Mt(e)}static convexMesh(t,e){const r=new St(t,e);return new Mt(r)}static roundConvexHull(t,e){const r=new Rt(t,null,e);return new Mt(r)}static roundConvexMesh(t,e,r){const i=new Rt(t,e,r);return new Mt(i)}setTranslation(t,e,r){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r)throw TypeError("The translation components must be numbers.");return this.translation={x:t,y:e,z:r},this}setRotation(t){return x.copy(this.rotation,t),this}setSensor(t){return this.isSensor=t,this}setEnabled(t){return this.enabled=t,this}setContactSkin(t){return this.contactSkin=t,this}setDensity(t){return this.massPropsMode=m.Density,this.density=t,this}setMass(t){return this.massPropsMode=m.Mass,this.mass=t,this}setMassProperties(t,e,r,i){return this.massPropsMode=m.MassProps,this.mass=t,R.copy(this.centerOfMass,e),R.copy(this.principalAngularInertia,r),x.copy(this.angularInertiaLocalFrame,i),this}setRestitution(t){return this.restitution=t,this}setFriction(t){return this.friction=t,this}setFrictionCombineRule(t){return this.frictionCombineRule=t,this}setRestitutionCombineRule(t){return this.restitutionCombineRule=t,this}setCollisionGroups(t){return this.collisionGroups=t,this}setSolverGroups(t){return this.solverGroups=t,this}setActiveHooks(t){return this.activeHooks=t,this}setActiveEvents(t){return this.activeEvents=t,this}setActiveCollisionTypes(t){return this.activeCollisionTypes=t,this}setContactForceEventThreshold(t){return this.contactForceEventThreshold=t,this}}class jt{constructor(t){this.raw=t||new v.NL,this.map=new T,t&&t.forEachColliderHandle((t=>{this.map.set(t,new Ft(this,t,null))}))}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}castClosure(t){return e=>t?t(this.get(e)):void 0}finalizeDeserialization(t){this.map.forEach((e=>e.finalizeDeserialization(t)))}createCollider(t,e,r){let i=null!=r&&null!=r;if(i&&isNaN(r))throw Error("Cannot create a collider with a parent rigid-body handle that is not a number.");let s=e.shape.intoRaw(),n=R.intoRaw(e.translation),a=x.intoRaw(e.rotation),o=R.intoRaw(e.centerOfMass),_=R.intoRaw(e.principalAngularInertia),l=x.intoRaw(e.angularInertiaLocalFrame),c=this.raw.createCollider(e.enabled,s,n,a,e.massPropsMode,e.mass,o,_,l,e.density,e.friction,e.restitution,e.frictionCombineRule,e.restitutionCombineRule,e.isSensor,e.collisionGroups,e.solverGroups,e.activeCollisionTypes,e.activeHooks,e.activeEvents,e.contactForceEventThreshold,e.contactSkin,i,i?r:0,t.raw);s.free(),n.free(),a.free(),o.free(),_.free(),l.free();let h=i?t.get(r):null,w=new Ft(this,c,h,e.shape);return this.map.set(c,w),w}remove(t,e,r,i){this.raw.remove(t,e.raw,r.raw,i),this.unmap(t)}unmap(t){this.map.delete(t)}get(t){return this.map.get(t)}len(){return this.map.len()}contains(t){return null!=this.get(t)}forEach(t){this.map.forEach(t)}getAll(){return this.map.getAll()}}class zt{constructor(t){this.raw=t||new v.yK}free(){this.raw&&this.raw.free(),this.raw=void 0}step(t,e,r,i,s,n,a,o,_,l,c,h){let w=R.intoRaw(t);c?this.raw.stepWithEvents(w,e.raw,r.raw,i.raw,s.raw,n.raw,a.raw,o.raw,_.raw,l.raw,c.raw,h,h?h.filterContactPair:null,h?h.filterIntersectionPair:null):this.raw.step(w,e.raw,r.raw,i.raw,s.raw,n.raw,a.raw,o.raw,_.raw,l.raw),w.free()}}!function(t){t[t.EXCLUDE_FIXED=1]="EXCLUDE_FIXED",t[t.EXCLUDE_KINEMATIC=2]="EXCLUDE_KINEMATIC",t[t.EXCLUDE_DYNAMIC=4]="EXCLUDE_DYNAMIC",t[t.EXCLUDE_SENSORS=8]="EXCLUDE_SENSORS",t[t.EXCLUDE_SOLIDS=16]="EXCLUDE_SOLIDS",t[t.ONLY_DYNAMIC=3]="ONLY_DYNAMIC",t[t.ONLY_KINEMATIC=5]="ONLY_KINEMATIC",t[t.ONLY_FIXED=6]="ONLY_FIXED"}(f||(f={}));class kt{constructor(t){this.raw=t||new v.$1}free(){this.raw&&this.raw.free(),this.raw=void 0}update(t){this.raw.update(t.raw)}castRay(t,e,r,i,s,n,a,o,_,l){let c=R.intoRaw(r.origin),h=R.intoRaw(r.dir),w=_t.fromRaw(e,this.raw.castRay(t.raw,e.raw,c,h,i,s,n,a,o,_,l));return c.free(),h.free(),w}castRayAndGetNormal(t,e,r,i,s,n,a,o,_,l){let c=R.intoRaw(r.origin),h=R.intoRaw(r.dir),w=ot.fromRaw(e,this.raw.castRayAndGetNormal(t.raw,e.raw,c,h,i,s,n,a,o,_,l));return c.free(),h.free(),w}intersectionsWithRay(t,e,r,i,s,n,a,o,_,l,c){let h=R.intoRaw(r.origin),w=R.intoRaw(r.dir);this.raw.intersectionsWithRay(t.raw,e.raw,h,w,i,s,(t=>n(ot.fromRaw(e,t))),a,o,_,l,c),h.free(),w.free()}intersectionWithShape(t,e,r,i,s,n,a,o,_,l){let c=R.intoRaw(r),h=x.intoRaw(i),w=s.intoRaw(),d=this.raw.intersectionWithShape(t.raw,e.raw,c,h,w,n,a,o,_,l);return c.free(),h.free(),w.free(),d}projectPoint(t,e,r,i,s,n,a,o,_){let l=R.intoRaw(r),c=st.fromRaw(e,this.raw.projectPoint(t.raw,e.raw,l,i,s,n,a,o,_));return l.free(),c}projectPointAndGetFeature(t,e,r,i,s,n,a,o){let _=R.intoRaw(r),l=st.fromRaw(e,this.raw.projectPointAndGetFeature(t.raw,e.raw,_,i,s,n,a,o));return _.free(),l}intersectionsWithPoint(t,e,r,i,s,n,a,o,_){let l=R.intoRaw(r);this.raw.intersectionsWithPoint(t.raw,e.raw,l,i,s,n,a,o,_),l.free()}castShape(t,e,r,i,s,n,a,o,_,l,c,h,w,d){let p=R.intoRaw(r),u=x.intoRaw(i),g=R.intoRaw(s),b=n.intoRaw(),m=ct.fromRaw(e,this.raw.castShape(t.raw,e.raw,p,u,g,b,a,o,_,l,c,h,w,d));return p.free(),u.free(),g.free(),b.free(),m}intersectionsWithShape(t,e,r,i,s,n,a,o,_,l,c){let h=R.intoRaw(r),w=x.intoRaw(i),d=s.intoRaw();this.raw.intersectionsWithShape(t.raw,e.raw,h,w,d,n,a,o,_,l,c),h.free(),w.free(),d.free()}collidersWithAabbIntersectingAabb(t,e,r){let i=R.intoRaw(t),s=R.intoRaw(e);this.raw.collidersWithAabbIntersectingAabb(i,s,r),i.free(),s.free()}}class Dt{constructor(t){this.raw=t||new v.pi}free(){this.raw&&this.raw.free(),this.raw=void 0}serializeAll(t,e,r,i,s,n,a,o,_){let l=R.intoRaw(t);const c=this.raw.serializeAll(l,e.raw,r.raw,i.raw,s.raw,n.raw,a.raw,o.raw,_.raw);return l.free(),c}deserializeAll(t){return Gt.fromRaw(this.raw.deserializeAll(t))}}class Lt{constructor(t,e){this.vertices=t,this.colors=e}}class Ht{constructor(t){this.raw=t||new v.md}free(){this.raw&&this.raw.free(),this.raw=void 0,this.vertices=void 0,this.colors=void 0}render(t,e,r,i,s){this.raw.render(t.raw,e.raw,r.raw,i.raw,s.raw),this.vertices=this.raw.vertices(),this.colors=this.raw.colors()}}class Nt{}class Bt{constructor(t,e,r,i,s){this.params=e,this.bodies=r,this.colliders=i,this.queries=s,this.raw=new v.Ry(t),this.rawCharacterCollision=new v.eW,this._applyImpulsesToDynamicBodies=!1,this._characterMass=null}free(){this.raw&&(this.raw.free(),this.rawCharacterCollision.free()),this.raw=void 0,this.rawCharacterCollision=void 0}up(){return this.raw.up()}setUp(t){let e=R.intoRaw(t);return this.raw.setUp(e)}applyImpulsesToDynamicBodies(){return this._applyImpulsesToDynamicBodies}setApplyImpulsesToDynamicBodies(t){this._applyImpulsesToDynamicBodies=t}characterMass(){return this._characterMass}setCharacterMass(t){this._characterMass=t}offset(){return this.raw.offset()}setOffset(t){this.raw.setOffset(t)}normalNudgeFactor(){return this.raw.normalNudgeFactor()}setNormalNudgeFactor(t){this.raw.setNormalNudgeFactor(t)}slideEnabled(){return this.raw.slideEnabled()}setSlideEnabled(t){this.raw.setSlideEnabled(t)}autostepMaxHeight(){return this.raw.autostepMaxHeight()}autostepMinWidth(){return this.raw.autostepMinWidth()}autostepIncludesDynamicBodies(){return this.raw.autostepIncludesDynamicBodies()}autostepEnabled(){return this.raw.autostepEnabled()}enableAutostep(t,e,r){this.raw.enableAutostep(t,e,r)}disableAutostep(){return this.raw.disableAutostep()}maxSlopeClimbAngle(){return this.raw.maxSlopeClimbAngle()}setMaxSlopeClimbAngle(t){this.raw.setMaxSlopeClimbAngle(t)}minSlopeSlideAngle(){return this.raw.minSlopeSlideAngle()}setMinSlopeSlideAngle(t){this.raw.setMinSlopeSlideAngle(t)}snapToGroundDistance(){return this.raw.snapToGroundDistance()}enableSnapToGround(t){this.raw.enableSnapToGround(t)}disableSnapToGround(){this.raw.disableSnapToGround()}snapToGroundEnabled(){return this.raw.snapToGroundEnabled()}computeColliderMovement(t,e,r,i,s){let n=R.intoRaw(e);this.raw.computeColliderMovement(this.params.dt,this.bodies.raw,this.colliders.raw,this.queries.raw,t.handle,n,this._applyImpulsesToDynamicBodies,this._characterMass,r,i,this.colliders.castClosure(s)),n.free()}computedMovement(){return R.fromRaw(this.raw.computedMovement())}computedGrounded(){return this.raw.computedGrounded()}numComputedCollisions(){return this.raw.numComputedCollisions()}computedCollision(t,e){if(this.raw.computedCollision(t,this.rawCharacterCollision)){let t=this.rawCharacterCollision;return(e=null!=e?e:new Nt).translationDeltaApplied=R.fromRaw(t.translationDeltaApplied()),e.translationDeltaRemaining=R.fromRaw(t.translationDeltaRemaining()),e.toi=t.toi(),e.witness1=R.fromRaw(t.worldWitness1()),e.witness2=R.fromRaw(t.worldWitness2()),e.normal1=R.fromRaw(t.worldNormal1()),e.normal2=R.fromRaw(t.worldNormal2()),e.collider=this.colliders.get(t.handle()),e}return null}}class Ot{constructor(t,e,r,i){this.raw=new v.BX(t.handle),this.bodies=e,this.colliders=r,this.queries=i,this._chassis=t}free(){this.raw&&this.raw.free(),this.raw=void 0}updateVehicle(t,e,r,i){this.raw.update_vehicle(t,this.bodies.raw,this.colliders.raw,this.queries.raw,e,r,this.colliders.castClosure(i))}currentVehicleSpeed(){return this.raw.current_vehicle_speed()}chassis(){return this._chassis}get indexUpAxis(){return this.raw.index_up_axis()}set indexUpAxis(t){this.raw.set_index_up_axis(t)}get indexForwardAxis(){return this.raw.index_forward_axis()}set setIndexForwardAxis(t){this.raw.set_index_forward_axis(t)}addWheel(t,e,r,i,s){let n=R.intoRaw(t),a=R.intoRaw(e),o=R.intoRaw(r);this.raw.add_wheel(n,a,o,i,s),n.free(),a.free(),o.free()}numWheels(){return this.raw.num_wheels()}wheelChassisConnectionPointCs(t){return R.fromRaw(this.raw.wheel_chassis_connection_point_cs(t))}setWheelChassisConnectionPointCs(t,e){let r=R.intoRaw(e);this.raw.set_wheel_chassis_connection_point_cs(t,r),r.free()}wheelSuspensionRestLength(t){return this.raw.wheel_suspension_rest_length(t)}setWheelSuspensionRestLength(t,e){this.raw.set_wheel_suspension_rest_length(t,e)}wheelMaxSuspensionTravel(t){return this.raw.wheel_max_suspension_travel(t)}setWheelMaxSuspensionTravel(t,e){this.raw.set_wheel_max_suspension_travel(t,e)}wheelRadius(t){return this.raw.wheel_radius(t)}setWheelRadius(t,e){this.raw.set_wheel_radius(t,e)}wheelSuspensionStiffness(t){return this.raw.wheel_suspension_stiffness(t)}setWheelSuspensionStiffness(t,e){this.raw.set_wheel_suspension_stiffness(t,e)}wheelSuspensionCompression(t){return this.raw.wheel_suspension_compression(t)}setWheelSuspensionCompression(t,e){this.raw.set_wheel_suspension_compression(t,e)}wheelSuspensionRelaxation(t){return this.raw.wheel_suspension_relaxation(t)}setWheelSuspensionRelaxation(t,e){this.raw.set_wheel_suspension_relaxation(t,e)}wheelMaxSuspensionForce(t){return this.raw.wheel_max_suspension_force(t)}setWheelMaxSuspensionForce(t,e){this.raw.set_wheel_max_suspension_force(t,e)}wheelBrake(t){return this.raw.wheel_brake(t)}setWheelBrake(t,e){this.raw.set_wheel_brake(t,e)}wheelSteering(t){return this.raw.wheel_steering(t)}setWheelSteering(t,e){this.raw.set_wheel_steering(t,e)}wheelEngineForce(t){return this.raw.wheel_engine_force(t)}setWheelEngineForce(t,e){this.raw.set_wheel_engine_force(t,e)}wheelDirectionCs(t){return R.fromRaw(this.raw.wheel_direction_cs(t))}setWheelDirectionCs(t,e){let r=R.intoRaw(e);this.raw.set_wheel_direction_cs(t,r),r.free()}wheelAxleCs(t){return R.fromRaw(this.raw.wheel_axle_cs(t))}setWheelAxleCs(t,e){let r=R.intoRaw(e);this.raw.set_wheel_axle_cs(t,r),r.free()}wheelFrictionSlip(t){return this.raw.wheel_friction_slip(t)}setWheelFrictionSlip(t,e){this.raw.set_wheel_friction_slip(t,e)}wheelSideFrictionStiffness(t){return this.raw.wheel_side_friction_stiffness(t)}setWheelSideFrictionStiffness(t,e){this.raw.set_wheel_side_friction_stiffness(t,e)}wheelRotation(t){return this.raw.wheel_rotation(t)}wheelForwardImpulse(t){return this.raw.wheel_forward_impulse(t)}wheelSideImpulse(t){return this.raw.wheel_side_impulse(t)}wheelSuspensionForce(t){return this.raw.wheel_suspension_force(t)}wheelContactNormal(t){return R.fromRaw(this.raw.wheel_contact_normal_ws(t))}wheelContactPoint(t){return R.fromRaw(this.raw.wheel_contact_point_ws(t))}wheelSuspensionLength(t){return this.raw.wheel_suspension_length(t)}wheelHardPoint(t){return R.fromRaw(this.raw.wheel_hard_point_ws(t))}wheelIsInContact(t){return this.raw.wheel_is_in_contact(t)}wheelGroundObject(t){return this.colliders.get(this.raw.wheel_ground_object(t))}}class Gt{constructor(t,e,r,i,s,n,a,o,_,l,c,h,w,d){this.gravity=t,this.integrationParameters=new M(e),this.islands=new $(r),this.broadPhase=new Q(i),this.narrowPhase=new tt(s),this.bodies=new F(n),this.colliders=new jt(a),this.impulseJoints=new W(o),this.multibodyJoints=new K(_),this.ccdSolver=new Z(l),this.queryPipeline=new kt(c),this.physicsPipeline=new zt(h),this.serializationPipeline=new Dt(w),this.debugRenderPipeline=new Ht(d),this.characterControllers=new Set,this.vehicleControllers=new Set,this.impulseJoints.finalizeDeserialization(this.bodies),this.bodies.finalizeDeserialization(this.colliders),this.colliders.finalizeDeserialization(this.bodies)}free(){this.integrationParameters.free(),this.islands.free(),this.broadPhase.free(),this.narrowPhase.free(),this.bodies.free(),this.colliders.free(),this.impulseJoints.free(),this.multibodyJoints.free(),this.ccdSolver.free(),this.queryPipeline.free(),this.physicsPipeline.free(),this.serializationPipeline.free(),this.debugRenderPipeline.free(),this.characterControllers.forEach((t=>t.free())),this.vehicleControllers.forEach((t=>t.free())),this.integrationParameters=void 0,this.islands=void 0,this.broadPhase=void 0,this.narrowPhase=void 0,this.bodies=void 0,this.colliders=void 0,this.ccdSolver=void 0,this.impulseJoints=void 0,this.multibodyJoints=void 0,this.queryPipeline=void 0,this.physicsPipeline=void 0,this.serializationPipeline=void 0,this.debugRenderPipeline=void 0,this.characterControllers=void 0,this.vehicleControllers=void 0}static fromRaw(t){return t?new Gt(R.fromRaw(t.takeGravity()),t.takeIntegrationParameters(),t.takeIslandManager(),t.takeBroadPhase(),t.takeNarrowPhase(),t.takeBodies(),t.takeColliders(),t.takeImpulseJoints(),t.takeMultibodyJoints()):null}takeSnapshot(){return this.serializationPipeline.serializeAll(this.gravity,this.integrationParameters,this.islands,this.broadPhase,this.narrowPhase,this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints)}static restoreSnapshot(t){return(new Dt).deserializeAll(t)}debugRender(){return this.debugRenderPipeline.render(this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints,this.narrowPhase),new Lt(this.debugRenderPipeline.vertices,this.debugRenderPipeline.colors)}step(t,e){this.physicsPipeline.step(this.gravity,this.integrationParameters,this.islands,this.broadPhase,this.narrowPhase,this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints,this.ccdSolver,t,e),this.queryPipeline.update(this.colliders)}propagateModifiedBodyPositionsToColliders(){this.bodies.raw.propagateModifiedBodyPositionsToColliders(this.colliders.raw)}updateSceneQueries(){this.propagateModifiedBodyPositionsToColliders(),this.queryPipeline.update(this.colliders)}get timestep(){return this.integrationParameters.dt}set timestep(t){this.integrationParameters.dt=t}get lengthUnit(){return this.integrationParameters.lengthUnit}set lengthUnit(t){this.integrationParameters.lengthUnit=t}get numSolverIterations(){return this.integrationParameters.numSolverIterations}set numSolverIterations(t){this.integrationParameters.numSolverIterations=t}get numAdditionalFrictionIterations(){return this.integrationParameters.numAdditionalFrictionIterations}set numAdditionalFrictionIterations(t){this.integrationParameters.numAdditionalFrictionIterations=t}get numInternalPgsIterations(){return this.integrationParameters.numInternalPgsIterations}set numInternalPgsIterations(t){this.integrationParameters.numInternalPgsIterations=t}switchToStandardPgsSolver(){this.integrationParameters.switchToStandardPgsSolver()}switchToSmallStepsPgsSolver(){this.integrationParameters.switchToSmallStepsPgsSolver()}switchToSmallStepsPgsSolverWithoutWarmstart(){this.integrationParameters.switchToSmallStepsPgsSolverWithoutWarmstart()}createRigidBody(t){return this.bodies.createRigidBody(this.colliders,t)}createCharacterController(t){let e=new Bt(t,this.integrationParameters,this.bodies,this.colliders,this.queryPipeline);return this.characterControllers.add(e),e}removeCharacterController(t){this.characterControllers.delete(t),t.free()}createVehicleController(t){let e=new Ot(t,this.bodies,this.colliders,this.queryPipeline);return this.vehicleControllers.add(e),e}removeVehicleController(t){this.vehicleControllers.delete(t),t.free()}createCollider(t,e){let r=e?e.handle:void 0;return this.colliders.createCollider(this.bodies,t,r)}createImpulseJoint(t,e,r,i){return this.impulseJoints.createJoint(this.bodies,t,e.handle,r.handle,i)}createMultibodyJoint(t,e,r,i){return this.multibodyJoints.createJoint(t,e.handle,r.handle,i)}getRigidBody(t){return this.bodies.get(t)}getCollider(t){return this.colliders.get(t)}getImpulseJoint(t){return this.impulseJoints.get(t)}getMultibodyJoint(t){return this.multibodyJoints.get(t)}removeRigidBody(t){this.bodies&&this.bodies.remove(t.handle,this.islands,this.colliders,this.impulseJoints,this.multibodyJoints)}removeCollider(t,e){this.colliders&&this.colliders.remove(t.handle,this.islands,this.bodies,e)}removeImpulseJoint(t,e){this.impulseJoints&&this.impulseJoints.remove(t.handle,e)}removeMultibodyJoint(t,e){this.impulseJoints&&this.multibodyJoints.remove(t.handle,e)}forEachCollider(t){this.colliders.forEach(t)}forEachRigidBody(t){this.bodies.forEach(t)}forEachActiveRigidBody(t){this.bodies.forEachActiveRigidBody(this.islands,t)}castRay(t,e,r,i,s,n,a,o){return this.queryPipeline.castRay(this.bodies,this.colliders,t,e,r,i,s,n?n.handle:null,a?a.handle:null,this.colliders.castClosure(o))}castRayAndGetNormal(t,e,r,i,s,n,a,o){return this.queryPipeline.castRayAndGetNormal(this.bodies,this.colliders,t,e,r,i,s,n?n.handle:null,a?a.handle:null,this.colliders.castClosure(o))}intersectionsWithRay(t,e,r,i,s,n,a,o,_){this.queryPipeline.intersectionsWithRay(this.bodies,this.colliders,t,e,r,i,s,n,a?a.handle:null,o?o.handle:null,this.colliders.castClosure(_))}intersectionWithShape(t,e,r,i,s,n,a,o){let _=this.queryPipeline.intersectionWithShape(this.bodies,this.colliders,t,e,r,i,s,n?n.handle:null,a?a.handle:null,this.colliders.castClosure(o));return null!=_?this.colliders.get(_):null}projectPoint(t,e,r,i,s,n,a){return this.queryPipeline.projectPoint(this.bodies,this.colliders,t,e,r,i,s?s.handle:null,n?n.handle:null,this.colliders.castClosure(a))}projectPointAndGetFeature(t,e,r,i,s,n){return this.queryPipeline.projectPointAndGetFeature(this.bodies,this.colliders,t,e,r,i?i.handle:null,s?s.handle:null,this.colliders.castClosure(n))}intersectionsWithPoint(t,e,r,i,s,n,a){this.queryPipeline.intersectionsWithPoint(this.bodies,this.colliders,t,this.colliders.castClosure(e),r,i,s?s.handle:null,n?n.handle:null,this.colliders.castClosure(a))}castShape(t,e,r,i,s,n,a,o,_,l,c,h){return this.queryPipeline.castShape(this.bodies,this.colliders,t,e,r,i,s,n,a,o,_,l?l.handle:null,c?c.handle:null,this.colliders.castClosure(h))}intersectionsWithShape(t,e,r,i,s,n,a,o,_){this.queryPipeline.intersectionsWithShape(this.bodies,this.colliders,t,e,r,this.colliders.castClosure(i),s,n,a?a.handle:null,o?o.handle:null,this.colliders.castClosure(_))}collidersWithAabbIntersectingAabb(t,e,r){this.queryPipeline.collidersWithAabbIntersectingAabb(t,e,this.colliders.castClosure(r))}contactPairsWith(t,e){this.narrowPhase.contactPairsWith(t.handle,this.colliders.castClosure(e))}intersectionPairsWith(t,e){this.narrowPhase.intersectionPairsWith(t.handle,this.colliders.castClosure(e))}contactPair(t,e,r){this.narrowPhase.contactPair(t.handle,e.handle,r)}intersectionPair(t,e){return this.narrowPhase.intersectionPair(t.handle,e.handle)}}function Wt(){return(0,v.rE)()}const Jt=i},4265:(t,e,r)=>{let i;function s(t){i=t}r.d(e,{$1:()=>yt,$M:()=>Tt,BX:()=>K,FJ:()=>tt,I$:()=>It,KH:()=>Gt,NL:()=>H,Pu:()=>T,Ry:()=>_t,Y6:()=>M,YK:()=>ct,aF:()=>P,co:()=>Dt,eW:()=>D,lI:()=>s,m3:()=>I,m7:()=>$,md:()=>U,pi:()=>zt,qj:()=>z,rE:()=>g,wT:()=>rt,xW:()=>st,xm:()=>wt,yK:()=>pt,z2:()=>at}),t=r.hmd(t);const n=new Array(128).fill(void 0);n.push(void 0,null,!0,!1);let a=n.length;function o(t){a===n.length&&n.push(n.length+1);const e=a;return a=n[e],n[e]=t,e}function _(t){const e=function(t){return n[t]}(t);return function(t){t<132||(n[t]=a,a=t)}(t),e}function l(t){return null==t}let c=null;function h(){return null!==c&&0!==c.byteLength||(c=new Float64Array(i.memory.buffer)),c}let w=null;function d(){return null!==w&&0!==w.byteLength||(w=new Int32Array(i.memory.buffer)),w}let p=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});p.decode();let u=null;function g(){let t,e;try{const o=i.__wbindgen_add_to_stack_pointer(-16);i.version(o);var r=d()[o/4+0],s=d()[o/4+1];return t=r,e=s,n=r,a=s,n>>>=0,p.decode((null!==u&&0!==u.byteLength||(u=new Uint8Array(i.memory.buffer)),u).subarray(n,n+a))}finally{i.__wbindgen_add_to_stack_pointer(16),i.__wbindgen_free(t,e,1)}var n,a}function b(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}let m=null;function f(){return null!==m&&0!==m.byteLength||(m=new Float32Array(i.memory.buffer)),m}let y=128;function v(t){if(1==y)throw new Error("out of js stack");return n[--y]=t,y}function S(t,e){return t>>>=0,f().subarray(t/4,t/4+e)}let R=null;function C(){return null!==R&&0!==R.byteLength||(R=new Uint32Array(i.memory.buffer)),R}let x=0;function E(t,e){const r=e(4*t.length,4)>>>0;return f().set(t,r/4),x=t.length,r}function A(t,e){const r=e(4*t.length,4)>>>0;return C().set(t,r/4),x=t.length,r}Object.freeze({Vertex:0,0:"Vertex",Edge:1,1:"Edge",Face:2,2:"Face",Unknown:3,3:"Unknown"});const I=Object.freeze({Ball:0,0:"Ball",Cuboid:1,1:"Cuboid",Capsule:2,2:"Capsule",Segment:3,3:"Segment",Polyline:4,4:"Polyline",Triangle:5,5:"Triangle",TriMesh:6,6:"TriMesh",HeightField:7,7:"HeightField",Compound:8,8:"Compound",ConvexPolyhedron:9,9:"ConvexPolyhedron",Cylinder:10,10:"Cylinder",Cone:11,11:"Cone",RoundCuboid:12,12:"RoundCuboid",RoundTriangle:13,13:"RoundTriangle",RoundCylinder:14,14:"RoundCylinder",RoundCone:15,15:"RoundCone",RoundConvexPolyhedron:16,16:"RoundConvexPolyhedron",HalfSpace:17,17:"HalfSpace"}),P=Object.freeze({LinX:0,0:"LinX",LinY:1,1:"LinY",LinZ:2,2:"LinZ",AngX:3,3:"AngX",AngY:4,4:"AngY",AngZ:5,5:"AngZ"}),T=(Object.freeze({Dynamic:0,0:"Dynamic",Fixed:1,1:"Fixed",KinematicPositionBased:2,2:"KinematicPositionBased",KinematicVelocityBased:3,3:"KinematicVelocityBased"}),Object.freeze({AccelerationBased:0,0:"AccelerationBased",ForceBased:1,1:"ForceBased"}),Object.freeze({Revolute:0,0:"Revolute",Fixed:1,1:"Fixed",Prismatic:2,2:"Prismatic",Rope:3,3:"Rope",Spring:4,4:"Spring",Spherical:5,5:"Spherical",Generic:6,6:"Generic"})),F="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawbroadphase_free(t>>>0)));class M{static __wrap(t){t>>>=0;const e=Object.create(M.prototype);return e.__wbg_ptr=t,F.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,F.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawbroadphase_free(t)}constructor(){const t=i.rawbroadphase_new();return this.__wbg_ptr=t>>>0,this}}const j="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawccdsolver_free(t>>>0)));class z{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,j.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawccdsolver_free(t)}constructor(){const t=i.rawccdsolver_new();return this.__wbg_ptr=t>>>0,this}}const k="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawcharactercollision_free(t>>>0)));class D{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,k.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawcharactercollision_free(t)}constructor(){const t=i.rawcharactercollision_new();return this.__wbg_ptr=t>>>0,this}handle(){return i.rawcharactercollision_handle(this.__wbg_ptr)}translationDeltaApplied(){const t=i.rawcharactercollision_translationDeltaApplied(this.__wbg_ptr);return Gt.__wrap(t)}translationDeltaRemaining(){const t=i.rawcharactercollision_translationDeltaRemaining(this.__wbg_ptr);return Gt.__wrap(t)}toi(){return i.rawcharactercollision_toi(this.__wbg_ptr)}worldWitness1(){const t=i.rawcharactercollision_worldWitness1(this.__wbg_ptr);return Gt.__wrap(t)}worldWitness2(){const t=i.rawcharactercollision_worldWitness2(this.__wbg_ptr);return Gt.__wrap(t)}worldNormal1(){const t=i.rawcharactercollision_worldNormal1(this.__wbg_ptr);return Gt.__wrap(t)}worldNormal2(){const t=i.rawcharactercollision_worldNormal2(this.__wbg_ptr);return Gt.__wrap(t)}}const L="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawcolliderset_free(t>>>0)));class H{static __wrap(t){t>>>=0;const e=Object.create(H.prototype);return e.__wbg_ptr=t,L.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,L.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawcolliderset_free(t)}coTranslation(t){const e=i.rawcolliderset_coTranslation(this.__wbg_ptr,t);return Gt.__wrap(e)}coRotation(t){const e=i.rawcolliderset_coRotation(this.__wbg_ptr,t);return Tt.__wrap(e)}coSetTranslation(t,e,r,s){i.rawcolliderset_coSetTranslation(this.__wbg_ptr,t,e,r,s)}coSetTranslationWrtParent(t,e,r,s){i.rawcolliderset_coSetTranslationWrtParent(this.__wbg_ptr,t,e,r,s)}coSetRotation(t,e,r,s,n){i.rawcolliderset_coSetRotation(this.__wbg_ptr,t,e,r,s,n)}coSetRotationWrtParent(t,e,r,s,n){i.rawcolliderset_coSetRotationWrtParent(this.__wbg_ptr,t,e,r,s,n)}coIsSensor(t){return 0!==i.rawcolliderset_coIsSensor(this.__wbg_ptr,t)}coShapeType(t){return i.rawcolliderset_coShapeType(this.__wbg_ptr,t)}coHalfspaceNormal(t){const e=i.rawcolliderset_coHalfspaceNormal(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}coHalfExtents(t){const e=i.rawcolliderset_coHalfExtents(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}coSetHalfExtents(t,e){b(e,Gt),i.rawcolliderset_coSetHalfExtents(this.__wbg_ptr,t,e.__wbg_ptr)}coRadius(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coRadius(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}coSetRadius(t,e){i.rawcolliderset_coSetRadius(this.__wbg_ptr,t,e)}coHalfHeight(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coHalfHeight(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}coSetHalfHeight(t,e){i.rawcolliderset_coSetHalfHeight(this.__wbg_ptr,t,e)}coRoundRadius(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coRoundRadius(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}coSetRoundRadius(t,e){i.rawcolliderset_coSetRoundRadius(this.__wbg_ptr,t,e)}coVertices(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coVertices(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=d()[s/4+1];let n;return 0!==e&&(n=S(e,r).slice(),i.__wbindgen_free(e,4*r,4)),n}finally{i.__wbindgen_add_to_stack_pointer(16)}}coIndices(t){try{const a=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coIndices(a,this.__wbg_ptr,t);var e=d()[a/4+0],r=d()[a/4+1];let o;return 0!==e&&(o=(s=e,n=r,s>>>=0,C().subarray(s/4,s/4+n)).slice(),i.__wbindgen_free(e,4*r,4)),o}finally{i.__wbindgen_add_to_stack_pointer(16)}var s,n}coTriMeshFlags(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coTriMeshFlags(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=d()[s/4+1];return 0===e?void 0:r>>>0}finally{i.__wbindgen_add_to_stack_pointer(16)}}coHeightFieldFlags(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coHeightFieldFlags(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=d()[s/4+1];return 0===e?void 0:r>>>0}finally{i.__wbindgen_add_to_stack_pointer(16)}}coHeightfieldHeights(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coHeightfieldHeights(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=d()[s/4+1];let n;return 0!==e&&(n=S(e,r).slice(),i.__wbindgen_free(e,4*r,4)),n}finally{i.__wbindgen_add_to_stack_pointer(16)}}coHeightfieldScale(t){const e=i.rawcolliderset_coHeightfieldScale(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}coHeightfieldNRows(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coHeightfieldNRows(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=d()[s/4+1];return 0===e?void 0:r>>>0}finally{i.__wbindgen_add_to_stack_pointer(16)}}coHeightfieldNCols(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coHeightfieldNCols(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=d()[s/4+1];return 0===e?void 0:r>>>0}finally{i.__wbindgen_add_to_stack_pointer(16)}}coParent(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawcolliderset_coParent(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=h()[s/8+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}coSetEnabled(t,e){i.rawcolliderset_coSetEnabled(this.__wbg_ptr,t,e)}coIsEnabled(t){return 0!==i.rawcolliderset_coIsEnabled(this.__wbg_ptr,t)}coSetContactSkin(t,e){i.rawcolliderset_coSetContactSkin(this.__wbg_ptr,t,e)}coContactSkin(t){return i.rawcolliderset_coContactSkin(this.__wbg_ptr,t)}coFriction(t){return i.rawcolliderset_coFriction(this.__wbg_ptr,t)}coRestitution(t){return i.rawcolliderset_coRestitution(this.__wbg_ptr,t)}coDensity(t){return i.rawcolliderset_coDensity(this.__wbg_ptr,t)}coMass(t){return i.rawcolliderset_coMass(this.__wbg_ptr,t)}coVolume(t){return i.rawcolliderset_coVolume(this.__wbg_ptr,t)}coCollisionGroups(t){return i.rawcolliderset_coCollisionGroups(this.__wbg_ptr,t)>>>0}coSolverGroups(t){return i.rawcolliderset_coSolverGroups(this.__wbg_ptr,t)>>>0}coActiveHooks(t){return i.rawcolliderset_coActiveHooks(this.__wbg_ptr,t)>>>0}coActiveCollisionTypes(t){return i.rawcolliderset_coActiveCollisionTypes(this.__wbg_ptr,t)}coActiveEvents(t){return i.rawcolliderset_coActiveEvents(this.__wbg_ptr,t)>>>0}coContactForceEventThreshold(t){return i.rawcolliderset_coContactForceEventThreshold(this.__wbg_ptr,t)}coContainsPoint(t,e){return b(e,Gt),0!==i.rawcolliderset_coContainsPoint(this.__wbg_ptr,t,e.__wbg_ptr)}coCastShape(t,e,r,s,n,a,o,_,l){b(e,Gt),b(r,Dt),b(s,Gt),b(n,Tt),b(a,Gt);const c=i.rawcolliderset_coCastShape(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr,a.__wbg_ptr,o,_,l);return 0===c?void 0:Ht.__wrap(c)}coCastCollider(t,e,r,s,n,a,o){b(e,Gt),b(s,Gt);const _=i.rawcolliderset_coCastCollider(this.__wbg_ptr,t,e.__wbg_ptr,r,s.__wbg_ptr,n,a,o);return 0===_?void 0:B.__wrap(_)}coIntersectsShape(t,e,r,s){return b(e,Dt),b(r,Gt),b(s,Tt),0!==i.rawcolliderset_coIntersectsShape(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr)}coContactShape(t,e,r,s,n){b(e,Dt),b(r,Gt),b(s,Tt);const a=i.rawcolliderset_coContactShape(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n);return 0===a?void 0:Bt.__wrap(a)}coContactCollider(t,e,r){const s=i.rawcolliderset_coContactCollider(this.__wbg_ptr,t,e,r);return 0===s?void 0:Bt.__wrap(s)}coProjectPoint(t,e,r){b(e,Gt);const s=i.rawcolliderset_coProjectPoint(this.__wbg_ptr,t,e.__wbg_ptr,r);return mt.__wrap(s)}coIntersectsRay(t,e,r,s){return b(e,Gt),b(r,Gt),0!==i.rawcolliderset_coIntersectsRay(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s)}coCastRay(t,e,r,s,n){return b(e,Gt),b(r,Gt),i.rawcolliderset_coCastRay(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s,n)}coCastRayAndGetNormal(t,e,r,s,n){b(e,Gt),b(r,Gt);const a=i.rawcolliderset_coCastRayAndGetNormal(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s,n);return 0===a?void 0:Et.__wrap(a)}coSetSensor(t,e){i.rawcolliderset_coSetSensor(this.__wbg_ptr,t,e)}coSetRestitution(t,e){i.rawcolliderset_coSetRestitution(this.__wbg_ptr,t,e)}coSetFriction(t,e){i.rawcolliderset_coSetFriction(this.__wbg_ptr,t,e)}coFrictionCombineRule(t){return i.rawcolliderset_coFrictionCombineRule(this.__wbg_ptr,t)>>>0}coSetFrictionCombineRule(t,e){i.rawcolliderset_coSetFrictionCombineRule(this.__wbg_ptr,t,e)}coRestitutionCombineRule(t){return i.rawcolliderset_coRestitutionCombineRule(this.__wbg_ptr,t)>>>0}coSetRestitutionCombineRule(t,e){i.rawcolliderset_coSetRestitutionCombineRule(this.__wbg_ptr,t,e)}coSetCollisionGroups(t,e){i.rawcolliderset_coSetCollisionGroups(this.__wbg_ptr,t,e)}coSetSolverGroups(t,e){i.rawcolliderset_coSetSolverGroups(this.__wbg_ptr,t,e)}coSetActiveHooks(t,e){i.rawcolliderset_coSetActiveHooks(this.__wbg_ptr,t,e)}coSetActiveEvents(t,e){i.rawcolliderset_coSetActiveEvents(this.__wbg_ptr,t,e)}coSetActiveCollisionTypes(t,e){i.rawcolliderset_coSetActiveCollisionTypes(this.__wbg_ptr,t,e)}coSetShape(t,e){b(e,Dt),i.rawcolliderset_coSetShape(this.__wbg_ptr,t,e.__wbg_ptr)}coSetContactForceEventThreshold(t,e){i.rawcolliderset_coSetContactForceEventThreshold(this.__wbg_ptr,t,e)}coSetDensity(t,e){i.rawcolliderset_coSetDensity(this.__wbg_ptr,t,e)}coSetMass(t,e){i.rawcolliderset_coSetMass(this.__wbg_ptr,t,e)}coSetMassProperties(t,e,r,s,n){b(r,Gt),b(s,Gt),b(n,Tt),i.rawcolliderset_coSetMassProperties(this.__wbg_ptr,t,e,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr)}constructor(){const t=i.rawcolliderset_new();return this.__wbg_ptr=t>>>0,this}len(){return i.rawcolliderset_len(this.__wbg_ptr)>>>0}contains(t){return 0!==i.rawcolliderset_contains(this.__wbg_ptr,t)}createCollider(t,e,r,s,n,a,o,_,l,c,w,p,u,g,m,f,y,v,S,R,C,x,E,A,I){try{const F=i.__wbindgen_add_to_stack_pointer(-16);b(e,Dt),b(r,Gt),b(s,Tt),b(o,Gt),b(_,Gt),b(l,Tt),b(I,It),i.rawcolliderset_createCollider(F,this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n,a,o.__wbg_ptr,_.__wbg_ptr,l.__wbg_ptr,c,w,p,u,g,m,f,y,v,S,R,C,x,E,A,I.__wbg_ptr);var P=d()[F/4+0],T=h()[F/8+1];return 0===P?void 0:T}finally{i.__wbindgen_add_to_stack_pointer(16)}}remove(t,e,r,s){b(e,at),b(r,It),i.rawcolliderset_remove(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s)}isHandleValid(t){return 0!==i.rawcolliderset_contains(this.__wbg_ptr,t)}forEachColliderHandle(t){try{i.rawcolliderset_forEachColliderHandle(this.__wbg_ptr,v(t))}finally{n[y++]=void 0}}}const N="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawcollidershapecasthit_free(t>>>0)));class B{static __wrap(t){t>>>=0;const e=Object.create(B.prototype);return e.__wbg_ptr=t,N.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,N.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawcollidershapecasthit_free(t)}colliderHandle(){return i.rawcharactercollision_handle(this.__wbg_ptr)}time_of_impact(){return i.rawcollidershapecasthit_time_of_impact(this.__wbg_ptr)}witness1(){const t=i.rawcollidershapecasthit_witness1(this.__wbg_ptr);return Gt.__wrap(t)}witness2(){const t=i.rawcollidershapecasthit_witness2(this.__wbg_ptr);return Gt.__wrap(t)}normal1(){const t=i.rawcharactercollision_translationDeltaApplied(this.__wbg_ptr);return Gt.__wrap(t)}normal2(){const t=i.rawcharactercollision_translationDeltaRemaining(this.__wbg_ptr);return Gt.__wrap(t)}}"undefined"==typeof FinalizationRegistry||new FinalizationRegistry((t=>i.__wbg_rawcontactforceevent_free(t>>>0)));const O="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawcontactmanifold_free(t>>>0)));class G{static __wrap(t){t>>>=0;const e=Object.create(G.prototype);return e.__wbg_ptr=t,O.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,O.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawcontactmanifold_free(t)}normal(){const t=i.rawcontactmanifold_normal(this.__wbg_ptr);return Gt.__wrap(t)}local_n1(){const t=i.rawcontactmanifold_local_n1(this.__wbg_ptr);return Gt.__wrap(t)}local_n2(){const t=i.rawcontactmanifold_local_n2(this.__wbg_ptr);return Gt.__wrap(t)}subshape1(){return i.rawcontactmanifold_subshape1(this.__wbg_ptr)>>>0}subshape2(){return i.rawcontactmanifold_subshape2(this.__wbg_ptr)>>>0}num_contacts(){return i.rawcontactmanifold_num_contacts(this.__wbg_ptr)>>>0}contact_local_p1(t){const e=i.rawcontactmanifold_contact_local_p1(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}contact_local_p2(t){const e=i.rawcontactmanifold_contact_local_p2(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}contact_dist(t){return i.rawcontactmanifold_contact_dist(this.__wbg_ptr,t)}contact_fid1(t){return i.rawcontactmanifold_contact_fid1(this.__wbg_ptr,t)>>>0}contact_fid2(t){return i.rawcontactmanifold_contact_fid2(this.__wbg_ptr,t)>>>0}contact_impulse(t){return i.rawcontactmanifold_contact_impulse(this.__wbg_ptr,t)}contact_tangent_impulse_x(t){return i.rawcontactmanifold_contact_tangent_impulse_x(this.__wbg_ptr,t)}contact_tangent_impulse_y(t){return i.rawcontactmanifold_contact_tangent_impulse_y(this.__wbg_ptr,t)}num_solver_contacts(){return i.rawcontactmanifold_num_solver_contacts(this.__wbg_ptr)>>>0}solver_contact_point(t){const e=i.rawcontactmanifold_solver_contact_point(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}solver_contact_dist(t){return i.rawcontactmanifold_solver_contact_dist(this.__wbg_ptr,t)}solver_contact_friction(t){return i.rawcontactmanifold_solver_contact_friction(this.__wbg_ptr,t)}solver_contact_restitution(t){return i.rawcontactmanifold_solver_contact_restitution(this.__wbg_ptr,t)}solver_contact_tangent_velocity(t){const e=i.rawcontactmanifold_solver_contact_tangent_velocity(this.__wbg_ptr,t);return Gt.__wrap(e)}}const W="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawcontactpair_free(t>>>0)));class J{static __wrap(t){t>>>=0;const e=Object.create(J.prototype);return e.__wbg_ptr=t,W.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,W.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawcontactpair_free(t)}collider1(){return i.rawcontactpair_collider1(this.__wbg_ptr)}collider2(){return i.rawcontactpair_collider2(this.__wbg_ptr)}numContactManifolds(){return i.rawcontactpair_numContactManifolds(this.__wbg_ptr)>>>0}contactManifold(t){const e=i.rawcontactpair_contactManifold(this.__wbg_ptr,t);return 0===e?void 0:G.__wrap(e)}}const q="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawdebugrenderpipeline_free(t>>>0)));class U{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,q.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawdebugrenderpipeline_free(t)}constructor(){const t=i.rawdebugrenderpipeline_new();return this.__wbg_ptr=t>>>0,this}vertices(){return _(i.rawdebugrenderpipeline_vertices(this.__wbg_ptr))}colors(){return _(i.rawdebugrenderpipeline_colors(this.__wbg_ptr))}render(t,e,r,s,n){b(t,It),b(e,H),b(r,rt),b(s,ct),b(n,wt),i.rawdebugrenderpipeline_render(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr)}}const V="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawdeserializedworld_free(t>>>0)));class X{static __wrap(t){t>>>=0;const e=Object.create(X.prototype);return e.__wbg_ptr=t,V.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,V.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawdeserializedworld_free(t)}takeGravity(){const t=i.rawdeserializedworld_takeGravity(this.__wbg_ptr);return 0===t?void 0:Gt.__wrap(t)}takeIntegrationParameters(){const t=i.rawdeserializedworld_takeIntegrationParameters(this.__wbg_ptr);return 0===t?void 0:st.__wrap(t)}takeIslandManager(){const t=i.rawdeserializedworld_takeIslandManager(this.__wbg_ptr);return 0===t?void 0:at.__wrap(t)}takeBroadPhase(){const t=i.rawdeserializedworld_takeBroadPhase(this.__wbg_ptr);return 0===t?void 0:M.__wrap(t)}takeNarrowPhase(){const t=i.rawdeserializedworld_takeNarrowPhase(this.__wbg_ptr);return 0===t?void 0:wt.__wrap(t)}takeBodies(){const t=i.rawdeserializedworld_takeBodies(this.__wbg_ptr);return 0===t?void 0:It.__wrap(t)}takeColliders(){const t=i.rawdeserializedworld_takeColliders(this.__wbg_ptr);return 0===t?void 0:H.__wrap(t)}takeImpulseJoints(){const t=i.rawdeserializedworld_takeImpulseJoints(this.__wbg_ptr);return 0===t?void 0:rt.__wrap(t)}takeMultibodyJoints(){const t=i.rawdeserializedworld_takeMultibodyJoints(this.__wbg_ptr);return 0===t?void 0:ct.__wrap(t)}}const Y="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawdynamicraycastvehiclecontroller_free(t>>>0)));class K{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Y.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawdynamicraycastvehiclecontroller_free(t)}constructor(t){const e=i.rawdynamicraycastvehiclecontroller_new(t);return this.__wbg_ptr=e>>>0,this}current_vehicle_speed(){return i.rawdynamicraycastvehiclecontroller_current_vehicle_speed(this.__wbg_ptr)}chassis(){return i.rawdynamicraycastvehiclecontroller_chassis(this.__wbg_ptr)}index_up_axis(){return i.rawdynamicraycastvehiclecontroller_index_up_axis(this.__wbg_ptr)>>>0}set_index_up_axis(t){i.rawdynamicraycastvehiclecontroller_set_index_up_axis(this.__wbg_ptr,t)}index_forward_axis(){return i.rawdynamicraycastvehiclecontroller_index_forward_axis(this.__wbg_ptr)>>>0}set_index_forward_axis(t){i.rawdynamicraycastvehiclecontroller_set_index_forward_axis(this.__wbg_ptr,t)}add_wheel(t,e,r,s,n){b(t,Gt),b(e,Gt),b(r,Gt),i.rawdynamicraycastvehiclecontroller_add_wheel(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s,n)}num_wheels(){return i.rawdynamicraycastvehiclecontroller_num_wheels(this.__wbg_ptr)>>>0}update_vehicle(t,e,r,s,a,o,_){try{b(e,It),b(r,H),b(s,yt),i.rawdynamicraycastvehiclecontroller_update_vehicle(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,a,!l(o),l(o)?0:o,v(_))}finally{n[y++]=void 0}}wheel_chassis_connection_point_cs(t){const e=i.rawdynamicraycastvehiclecontroller_wheel_chassis_connection_point_cs(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}set_wheel_chassis_connection_point_cs(t,e){b(e,Gt),i.rawdynamicraycastvehiclecontroller_set_wheel_chassis_connection_point_cs(this.__wbg_ptr,t,e.__wbg_ptr)}wheel_suspension_rest_length(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_suspension_rest_length(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_suspension_rest_length(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_suspension_rest_length(this.__wbg_ptr,t,e)}wheel_max_suspension_travel(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_max_suspension_travel(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_max_suspension_travel(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_max_suspension_travel(this.__wbg_ptr,t,e)}wheel_radius(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_radius(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_radius(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_radius(this.__wbg_ptr,t,e)}wheel_suspension_stiffness(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_suspension_stiffness(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_suspension_stiffness(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_suspension_stiffness(this.__wbg_ptr,t,e)}wheel_suspension_compression(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_suspension_compression(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_suspension_compression(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_suspension_compression(this.__wbg_ptr,t,e)}wheel_suspension_relaxation(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_suspension_relaxation(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_suspension_relaxation(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_suspension_relaxation(this.__wbg_ptr,t,e)}wheel_max_suspension_force(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_max_suspension_force(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_max_suspension_force(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_max_suspension_force(this.__wbg_ptr,t,e)}wheel_brake(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_brake(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_brake(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_brake(this.__wbg_ptr,t,e)}wheel_steering(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_steering(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_steering(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_steering(this.__wbg_ptr,t,e)}wheel_engine_force(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_engine_force(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_engine_force(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_engine_force(this.__wbg_ptr,t,e)}wheel_direction_cs(t){const e=i.rawdynamicraycastvehiclecontroller_wheel_direction_cs(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}set_wheel_direction_cs(t,e){b(e,Gt),i.rawdynamicraycastvehiclecontroller_set_wheel_direction_cs(this.__wbg_ptr,t,e.__wbg_ptr)}wheel_axle_cs(t){const e=i.rawdynamicraycastvehiclecontroller_wheel_axle_cs(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}set_wheel_axle_cs(t,e){b(e,Gt),i.rawdynamicraycastvehiclecontroller_set_wheel_axle_cs(this.__wbg_ptr,t,e.__wbg_ptr)}wheel_friction_slip(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_friction_slip(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_friction_slip(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_friction_slip(this.__wbg_ptr,t,e)}wheel_side_friction_stiffness(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_side_friction_stiffness(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}set_wheel_side_friction_stiffness(t,e){i.rawdynamicraycastvehiclecontroller_set_wheel_side_friction_stiffness(this.__wbg_ptr,t,e)}wheel_rotation(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_rotation(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}wheel_forward_impulse(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_forward_impulse(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}wheel_side_impulse(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_side_impulse(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}wheel_suspension_force(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_suspension_force(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}wheel_contact_normal_ws(t){const e=i.rawdynamicraycastvehiclecontroller_wheel_contact_normal_ws(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}wheel_contact_point_ws(t){const e=i.rawdynamicraycastvehiclecontroller_wheel_contact_point_ws(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}wheel_suspension_length(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_suspension_length(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=f()[s/4+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}wheel_hard_point_ws(t){const e=i.rawdynamicraycastvehiclecontroller_wheel_hard_point_ws(this.__wbg_ptr,t);return 0===e?void 0:Gt.__wrap(e)}wheel_is_in_contact(t){return 0!==i.rawdynamicraycastvehiclecontroller_wheel_is_in_contact(this.__wbg_ptr,t)}wheel_ground_object(t){try{const s=i.__wbindgen_add_to_stack_pointer(-16);i.rawdynamicraycastvehiclecontroller_wheel_ground_object(s,this.__wbg_ptr,t);var e=d()[s/4+0],r=h()[s/8+1];return 0===e?void 0:r}finally{i.__wbindgen_add_to_stack_pointer(16)}}}const Z="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_raweventqueue_free(t>>>0)));class ${__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Z.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_raweventqueue_free(t)}constructor(t){const e=i.raweventqueue_new(t);return this.__wbg_ptr=e>>>0,this}drainCollisionEvents(t){try{i.raweventqueue_drainCollisionEvents(this.__wbg_ptr,v(t))}finally{n[y++]=void 0}}drainContactForceEvents(t){try{i.raweventqueue_drainContactForceEvents(this.__wbg_ptr,v(t))}finally{n[y++]=void 0}}clear(){i.raweventqueue_clear(this.__wbg_ptr)}}const Q="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawgenericjoint_free(t>>>0)));class tt{static __wrap(t){t>>>=0;const e=Object.create(tt.prototype);return e.__wbg_ptr=t,Q.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Q.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawgenericjoint_free(t)}static generic(t,e,r,s){b(t,Gt),b(e,Gt),b(r,Gt);const n=i.rawgenericjoint_generic(t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s);return 0===n?void 0:tt.__wrap(n)}static spring(t,e,r,s,n){b(s,Gt),b(n,Gt);const a=i.rawgenericjoint_spring(t,e,r,s.__wbg_ptr,n.__wbg_ptr);return tt.__wrap(a)}static rope(t,e,r){b(e,Gt),b(r,Gt);const s=i.rawgenericjoint_rope(t,e.__wbg_ptr,r.__wbg_ptr);return tt.__wrap(s)}static spherical(t,e){b(t,Gt),b(e,Gt);const r=i.rawgenericjoint_spherical(t.__wbg_ptr,e.__wbg_ptr);return tt.__wrap(r)}static prismatic(t,e,r,s,n,a){b(t,Gt),b(e,Gt),b(r,Gt);const o=i.rawgenericjoint_prismatic(t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s,n,a);return 0===o?void 0:tt.__wrap(o)}static fixed(t,e,r,s){b(t,Gt),b(e,Tt),b(r,Gt),b(s,Tt);const n=i.rawgenericjoint_fixed(t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr);return tt.__wrap(n)}static revolute(t,e,r){b(t,Gt),b(e,Gt),b(r,Gt);const s=i.rawgenericjoint_revolute(t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr);return 0===s?void 0:tt.__wrap(s)}}const et="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawimpulsejointset_free(t>>>0)));class rt{static __wrap(t){t>>>=0;const e=Object.create(rt.prototype);return e.__wbg_ptr=t,et.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,et.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawimpulsejointset_free(t)}jointType(t){return i.rawimpulsejointset_jointType(this.__wbg_ptr,t)}jointBodyHandle1(t){return i.rawimpulsejointset_jointBodyHandle1(this.__wbg_ptr,t)}jointBodyHandle2(t){return i.rawimpulsejointset_jointBodyHandle2(this.__wbg_ptr,t)}jointFrameX1(t){const e=i.rawimpulsejointset_jointFrameX1(this.__wbg_ptr,t);return Tt.__wrap(e)}jointFrameX2(t){const e=i.rawimpulsejointset_jointFrameX2(this.__wbg_ptr,t);return Tt.__wrap(e)}jointAnchor1(t){const e=i.rawimpulsejointset_jointAnchor1(this.__wbg_ptr,t);return Gt.__wrap(e)}jointAnchor2(t){const e=i.rawimpulsejointset_jointAnchor2(this.__wbg_ptr,t);return Gt.__wrap(e)}jointSetAnchor1(t,e){b(e,Gt),i.rawimpulsejointset_jointSetAnchor1(this.__wbg_ptr,t,e.__wbg_ptr)}jointSetAnchor2(t,e){b(e,Gt),i.rawimpulsejointset_jointSetAnchor2(this.__wbg_ptr,t,e.__wbg_ptr)}jointContactsEnabled(t){return 0!==i.rawimpulsejointset_jointContactsEnabled(this.__wbg_ptr,t)}jointSetContactsEnabled(t,e){i.rawimpulsejointset_jointSetContactsEnabled(this.__wbg_ptr,t,e)}jointLimitsEnabled(t,e){return 0!==i.rawimpulsejointset_jointLimitsEnabled(this.__wbg_ptr,t,e)}jointLimitsMin(t,e){return i.rawimpulsejointset_jointLimitsMin(this.__wbg_ptr,t,e)}jointLimitsMax(t,e){return i.rawimpulsejointset_jointLimitsMax(this.__wbg_ptr,t,e)}jointSetLimits(t,e,r,s){i.rawimpulsejointset_jointSetLimits(this.__wbg_ptr,t,e,r,s)}jointConfigureMotorModel(t,e,r){i.rawimpulsejointset_jointConfigureMotorModel(this.__wbg_ptr,t,e,r)}jointConfigureMotorVelocity(t,e,r,s){i.rawimpulsejointset_jointConfigureMotorVelocity(this.__wbg_ptr,t,e,r,s)}jointConfigureMotorPosition(t,e,r,s,n){i.rawimpulsejointset_jointConfigureMotorPosition(this.__wbg_ptr,t,e,r,s,n)}jointConfigureMotor(t,e,r,s,n,a){i.rawimpulsejointset_jointConfigureMotor(this.__wbg_ptr,t,e,r,s,n,a)}constructor(){const t=i.rawimpulsejointset_new();return this.__wbg_ptr=t>>>0,this}createJoint(t,e,r,s){return b(t,tt),i.rawimpulsejointset_createJoint(this.__wbg_ptr,t.__wbg_ptr,e,r,s)}remove(t,e){i.rawimpulsejointset_remove(this.__wbg_ptr,t,e)}len(){return i.rawimpulsejointset_len(this.__wbg_ptr)>>>0}contains(t){return 0!==i.rawimpulsejointset_contains(this.__wbg_ptr,t)}forEachJointHandle(t){try{i.rawimpulsejointset_forEachJointHandle(this.__wbg_ptr,v(t))}finally{n[y++]=void 0}}forEachJointAttachedToRigidBody(t,e){try{i.rawimpulsejointset_forEachJointAttachedToRigidBody(this.__wbg_ptr,t,v(e))}finally{n[y++]=void 0}}}const it="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawintegrationparameters_free(t>>>0)));class st{static __wrap(t){t>>>=0;const e=Object.create(st.prototype);return e.__wbg_ptr=t,it.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,it.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawintegrationparameters_free(t)}constructor(){const t=i.rawintegrationparameters_new();return this.__wbg_ptr=t>>>0,this}get dt(){return i.rawintegrationparameters_dt(this.__wbg_ptr)}get contact_erp(){return i.rawintegrationparameters_contact_erp(this.__wbg_ptr)}get normalizedAllowedLinearError(){return i.rawdynamicraycastvehiclecontroller_current_vehicle_speed(this.__wbg_ptr)}get normalizedPredictionDistance(){return i.rawcontactforceevent_max_force_magnitude(this.__wbg_ptr)}get numSolverIterations(){return i.rawintegrationparameters_numSolverIterations(this.__wbg_ptr)>>>0}get numAdditionalFrictionIterations(){return i.rawdynamicraycastvehiclecontroller_index_up_axis(this.__wbg_ptr)>>>0}get numInternalPgsIterations(){return i.rawdynamicraycastvehiclecontroller_index_forward_axis(this.__wbg_ptr)>>>0}get minIslandSize(){return i.rawimpulsejointset_len(this.__wbg_ptr)>>>0}get maxCcdSubsteps(){return i.rawintegrationparameters_maxCcdSubsteps(this.__wbg_ptr)>>>0}get lengthUnit(){return i.rawintegrationparameters_lengthUnit(this.__wbg_ptr)}set dt(t){i.rawintegrationparameters_set_dt(this.__wbg_ptr,t)}set contact_natural_frequency(t){i.rawintegrationparameters_set_contact_natural_frequency(this.__wbg_ptr,t)}set normalizedAllowedLinearError(t){i.rawintegrationparameters_set_normalizedAllowedLinearError(this.__wbg_ptr,t)}set normalizedPredictionDistance(t){i.rawintegrationparameters_set_normalizedPredictionDistance(this.__wbg_ptr,t)}set numSolverIterations(t){i.rawintegrationparameters_set_numSolverIterations(this.__wbg_ptr,t)}set numAdditionalFrictionIterations(t){i.rawdynamicraycastvehiclecontroller_set_index_up_axis(this.__wbg_ptr,t)}set numInternalPgsIterations(t){i.rawdynamicraycastvehiclecontroller_set_index_forward_axis(this.__wbg_ptr,t)}set minIslandSize(t){i.rawintegrationparameters_set_minIslandSize(this.__wbg_ptr,t)}set maxCcdSubsteps(t){i.rawintegrationparameters_set_maxCcdSubsteps(this.__wbg_ptr,t)}set lengthUnit(t){i.rawintegrationparameters_set_lengthUnit(this.__wbg_ptr,t)}switchToStandardPgsSolver(){i.rawintegrationparameters_switchToStandardPgsSolver(this.__wbg_ptr)}switchToSmallStepsPgsSolver(){i.rawintegrationparameters_switchToSmallStepsPgsSolver(this.__wbg_ptr)}switchToSmallStepsPgsSolverWithoutWarmstart(){i.rawintegrationparameters_switchToSmallStepsPgsSolverWithoutWarmstart(this.__wbg_ptr)}}const nt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawislandmanager_free(t>>>0)));class at{static __wrap(t){t>>>=0;const e=Object.create(at.prototype);return e.__wbg_ptr=t,nt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,nt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawislandmanager_free(t)}constructor(){const t=i.rawislandmanager_new();return this.__wbg_ptr=t>>>0,this}forEachActiveRigidBodyHandle(t){try{i.rawislandmanager_forEachActiveRigidBodyHandle(this.__wbg_ptr,v(t))}finally{n[y++]=void 0}}}const ot="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawkinematiccharactercontroller_free(t>>>0)));class _t{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ot.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawkinematiccharactercontroller_free(t)}constructor(t){const e=i.rawkinematiccharactercontroller_new(t);return this.__wbg_ptr=e>>>0,this}up(){const t=i.rawcharactercollision_translationDeltaApplied(this.__wbg_ptr);return Gt.__wrap(t)}setUp(t){b(t,Gt),i.rawkinematiccharactercontroller_setUp(this.__wbg_ptr,t.__wbg_ptr)}normalNudgeFactor(){return i.rawkinematiccharactercontroller_normalNudgeFactor(this.__wbg_ptr)}setNormalNudgeFactor(t){i.rawkinematiccharactercontroller_setNormalNudgeFactor(this.__wbg_ptr,t)}offset(){return i.rawintegrationparameters_dt(this.__wbg_ptr)}setOffset(t){i.rawkinematiccharactercontroller_setOffset(this.__wbg_ptr,t)}slideEnabled(){return 0!==i.rawkinematiccharactercontroller_slideEnabled(this.__wbg_ptr)}setSlideEnabled(t){i.rawkinematiccharactercontroller_setSlideEnabled(this.__wbg_ptr,t)}autostepMaxHeight(){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.rawkinematiccharactercontroller_autostepMaxHeight(r,this.__wbg_ptr);var t=d()[r/4+0],e=f()[r/4+1];return 0===t?void 0:e}finally{i.__wbindgen_add_to_stack_pointer(16)}}autostepMinWidth(){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.rawkinematiccharactercontroller_autostepMinWidth(r,this.__wbg_ptr);var t=d()[r/4+0],e=f()[r/4+1];return 0===t?void 0:e}finally{i.__wbindgen_add_to_stack_pointer(16)}}autostepIncludesDynamicBodies(){const t=i.rawkinematiccharactercontroller_autostepIncludesDynamicBodies(this.__wbg_ptr);return 16777215===t?void 0:0!==t}autostepEnabled(){return 0!==i.rawkinematiccharactercontroller_autostepEnabled(this.__wbg_ptr)}enableAutostep(t,e,r){i.rawkinematiccharactercontroller_enableAutostep(this.__wbg_ptr,t,e,r)}disableAutostep(){i.rawkinematiccharactercontroller_disableAutostep(this.__wbg_ptr)}maxSlopeClimbAngle(){return i.rawkinematiccharactercontroller_maxSlopeClimbAngle(this.__wbg_ptr)}setMaxSlopeClimbAngle(t){i.rawkinematiccharactercontroller_setMaxSlopeClimbAngle(this.__wbg_ptr,t)}minSlopeSlideAngle(){return i.rawkinematiccharactercontroller_minSlopeSlideAngle(this.__wbg_ptr)}setMinSlopeSlideAngle(t){i.rawkinematiccharactercontroller_setMinSlopeSlideAngle(this.__wbg_ptr,t)}snapToGroundDistance(){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.rawkinematiccharactercontroller_snapToGroundDistance(r,this.__wbg_ptr);var t=d()[r/4+0],e=f()[r/4+1];return 0===t?void 0:e}finally{i.__wbindgen_add_to_stack_pointer(16)}}enableSnapToGround(t){i.rawkinematiccharactercontroller_enableSnapToGround(this.__wbg_ptr,t)}disableSnapToGround(){i.rawkinematiccharactercontroller_disableSnapToGround(this.__wbg_ptr)}snapToGroundEnabled(){return 0!==i.rawkinematiccharactercontroller_snapToGroundEnabled(this.__wbg_ptr)}computeColliderMovement(t,e,r,s,a,o,_,c,h,w,d){try{b(e,It),b(r,H),b(s,yt),b(o,Gt),i.rawkinematiccharactercontroller_computeColliderMovement(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,a,o.__wbg_ptr,_,!l(c),l(c)?0:c,h,!l(w),l(w)?0:w,v(d))}finally{n[y++]=void 0}}computedMovement(){const t=i.rawkinematiccharactercontroller_computedMovement(this.__wbg_ptr);return Gt.__wrap(t)}computedGrounded(){return 0!==i.rawkinematiccharactercontroller_computedGrounded(this.__wbg_ptr)}numComputedCollisions(){return i.rawkinematiccharactercontroller_numComputedCollisions(this.__wbg_ptr)>>>0}computedCollision(t,e){return b(e,D),0!==i.rawkinematiccharactercontroller_computedCollision(this.__wbg_ptr,t,e.__wbg_ptr)}}const lt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawmultibodyjointset_free(t>>>0)));class ct{static __wrap(t){t>>>=0;const e=Object.create(ct.prototype);return e.__wbg_ptr=t,lt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,lt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawmultibodyjointset_free(t)}jointType(t){return i.rawmultibodyjointset_jointType(this.__wbg_ptr,t)}jointFrameX1(t){const e=i.rawmultibodyjointset_jointFrameX1(this.__wbg_ptr,t);return Tt.__wrap(e)}jointFrameX2(t){const e=i.rawmultibodyjointset_jointFrameX2(this.__wbg_ptr,t);return Tt.__wrap(e)}jointAnchor1(t){const e=i.rawmultibodyjointset_jointAnchor1(this.__wbg_ptr,t);return Gt.__wrap(e)}jointAnchor2(t){const e=i.rawmultibodyjointset_jointAnchor2(this.__wbg_ptr,t);return Gt.__wrap(e)}jointContactsEnabled(t){return 0!==i.rawmultibodyjointset_jointContactsEnabled(this.__wbg_ptr,t)}jointSetContactsEnabled(t,e){i.rawmultibodyjointset_jointSetContactsEnabled(this.__wbg_ptr,t,e)}jointLimitsEnabled(t,e){return 0!==i.rawmultibodyjointset_jointLimitsEnabled(this.__wbg_ptr,t,e)}jointLimitsMin(t,e){return i.rawmultibodyjointset_jointLimitsMin(this.__wbg_ptr,t,e)}jointLimitsMax(t,e){return i.rawmultibodyjointset_jointLimitsMax(this.__wbg_ptr,t,e)}constructor(){const t=i.rawmultibodyjointset_new();return this.__wbg_ptr=t>>>0,this}createJoint(t,e,r,s){return b(t,tt),i.rawmultibodyjointset_createJoint(this.__wbg_ptr,t.__wbg_ptr,e,r,s)}remove(t,e){i.rawmultibodyjointset_remove(this.__wbg_ptr,t,e)}contains(t){return 0!==i.rawmultibodyjointset_contains(this.__wbg_ptr,t)}forEachJointHandle(t){try{i.rawmultibodyjointset_forEachJointHandle(this.__wbg_ptr,v(t))}finally{n[y++]=void 0}}forEachJointAttachedToRigidBody(t,e){try{i.rawmultibodyjointset_forEachJointAttachedToRigidBody(this.__wbg_ptr,t,v(e))}finally{n[y++]=void 0}}}const ht="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawnarrowphase_free(t>>>0)));class wt{static __wrap(t){t>>>=0;const e=Object.create(wt.prototype);return e.__wbg_ptr=t,ht.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ht.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawnarrowphase_free(t)}constructor(){const t=i.rawnarrowphase_new();return this.__wbg_ptr=t>>>0,this}contact_pairs_with(t,e){i.rawnarrowphase_contact_pairs_with(this.__wbg_ptr,t,o(e))}contact_pair(t,e){const r=i.rawnarrowphase_contact_pair(this.__wbg_ptr,t,e);return 0===r?void 0:J.__wrap(r)}intersection_pairs_with(t,e){i.rawnarrowphase_intersection_pairs_with(this.__wbg_ptr,t,o(e))}intersection_pair(t,e){return 0!==i.rawnarrowphase_intersection_pair(this.__wbg_ptr,t,e)}}const dt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawphysicspipeline_free(t>>>0)));class pt{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,dt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawphysicspipeline_free(t)}constructor(){const t=i.rawphysicspipeline_new();return this.__wbg_ptr=t>>>0,this}step(t,e,r,s,n,a,o,_,l,c){b(t,Gt),b(e,st),b(r,at),b(s,M),b(n,wt),b(a,It),b(o,H),b(_,rt),b(l,ct),b(c,z),i.rawphysicspipeline_step(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr,a.__wbg_ptr,o.__wbg_ptr,_.__wbg_ptr,l.__wbg_ptr,c.__wbg_ptr)}stepWithEvents(t,e,r,s,n,a,_,l,c,h,w,d,p,u){b(t,Gt),b(e,st),b(r,at),b(s,M),b(n,wt),b(a,It),b(_,H),b(l,rt),b(c,ct),b(h,z),b(w,$),i.rawphysicspipeline_stepWithEvents(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr,a.__wbg_ptr,_.__wbg_ptr,l.__wbg_ptr,c.__wbg_ptr,h.__wbg_ptr,w.__wbg_ptr,o(d),o(p),o(u))}}const ut="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawpointcolliderprojection_free(t>>>0)));class gt{static __wrap(t){t>>>=0;const e=Object.create(gt.prototype);return e.__wbg_ptr=t,ut.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ut.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawpointcolliderprojection_free(t)}colliderHandle(){return i.rawpointcolliderprojection_colliderHandle(this.__wbg_ptr)}point(){const t=i.rawpointcolliderprojection_point(this.__wbg_ptr);return Gt.__wrap(t)}isInside(){return 0!==i.rawpointcolliderprojection_isInside(this.__wbg_ptr)}featureType(){return i.rawpointcolliderprojection_featureType(this.__wbg_ptr)}featureId(){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.rawpointcolliderprojection_featureId(r,this.__wbg_ptr);var t=d()[r/4+0],e=d()[r/4+1];return 0===t?void 0:e>>>0}finally{i.__wbindgen_add_to_stack_pointer(16)}}}const bt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawpointprojection_free(t>>>0)));class mt{static __wrap(t){t>>>=0;const e=Object.create(mt.prototype);return e.__wbg_ptr=t,bt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,bt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawpointprojection_free(t)}point(){const t=i.rawpointprojection_point(this.__wbg_ptr);return Gt.__wrap(t)}isInside(){return 0!==i.rawpointprojection_isInside(this.__wbg_ptr)}}const ft="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawquerypipeline_free(t>>>0)));class yt{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,ft.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawquerypipeline_free(t)}constructor(){const t=i.rawquerypipeline_new();return this.__wbg_ptr=t>>>0,this}update(t){b(t,H),i.rawquerypipeline_update(this.__wbg_ptr,t.__wbg_ptr)}castRay(t,e,r,s,a,o,_,c,h,w,d){try{b(t,It),b(e,H),b(r,Gt),b(s,Gt);const n=i.rawquerypipeline_castRay(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,a,o,_,!l(c),l(c)?0:c,!l(h),l(h)?0:h,!l(w),l(w)?0:w,v(d));return 0===n?void 0:St.__wrap(n)}finally{n[y++]=void 0}}castRayAndGetNormal(t,e,r,s,a,o,_,c,h,w,d){try{b(t,It),b(e,H),b(r,Gt),b(s,Gt);const n=i.rawquerypipeline_castRayAndGetNormal(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,a,o,_,!l(c),l(c)?0:c,!l(h),l(h)?0:h,!l(w),l(w)?0:w,v(d));return 0===n?void 0:Ct.__wrap(n)}finally{n[y++]=void 0}}intersectionsWithRay(t,e,r,s,a,o,_,c,h,w,d,p){try{b(t,It),b(e,H),b(r,Gt),b(s,Gt),i.rawquerypipeline_intersectionsWithRay(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,a,o,v(_),c,!l(h),l(h)?0:h,!l(w),l(w)?0:w,!l(d),l(d)?0:d,v(p))}finally{n[y++]=void 0,n[y++]=void 0}}intersectionWithShape(t,e,r,s,a,o,_,c,w,p){try{const n=i.__wbindgen_add_to_stack_pointer(-16);b(t,It),b(e,H),b(r,Gt),b(s,Tt),b(a,Dt),i.rawquerypipeline_intersectionWithShape(n,this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,a.__wbg_ptr,o,!l(_),l(_)?0:_,!l(c),l(c)?0:c,!l(w),l(w)?0:w,v(p));var u=d()[n/4+0],g=h()[n/8+1];return 0===u?void 0:g}finally{i.__wbindgen_add_to_stack_pointer(16),n[y++]=void 0}}projectPoint(t,e,r,s,a,o,_,c,h){try{b(t,It),b(e,H),b(r,Gt);const n=i.rawquerypipeline_projectPoint(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s,a,!l(o),l(o)?0:o,!l(_),l(_)?0:_,!l(c),l(c)?0:c,v(h));return 0===n?void 0:gt.__wrap(n)}finally{n[y++]=void 0}}projectPointAndGetFeature(t,e,r,s,a,o,_,c){try{b(t,It),b(e,H),b(r,Gt);const n=i.rawquerypipeline_projectPointAndGetFeature(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s,!l(a),l(a)?0:a,!l(o),l(o)?0:o,!l(_),l(_)?0:_,v(c));return 0===n?void 0:gt.__wrap(n)}finally{n[y++]=void 0}}intersectionsWithPoint(t,e,r,s,a,o,_,c,h){try{b(t,It),b(e,H),b(r,Gt),i.rawquerypipeline_intersectionsWithPoint(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,v(s),a,!l(o),l(o)?0:o,!l(_),l(_)?0:_,!l(c),l(c)?0:c,v(h))}finally{n[y++]=void 0,n[y++]=void 0}}castShape(t,e,r,s,a,o,_,c,h,w,d,p,u,g){try{b(t,It),b(e,H),b(r,Gt),b(s,Tt),b(a,Gt),b(o,Dt);const n=i.rawquerypipeline_castShape(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,a.__wbg_ptr,o.__wbg_ptr,_,c,h,w,!l(d),l(d)?0:d,!l(p),l(p)?0:p,!l(u),l(u)?0:u,v(g));return 0===n?void 0:B.__wrap(n)}finally{n[y++]=void 0}}intersectionsWithShape(t,e,r,s,a,o,_,c,h,w,d){try{b(t,It),b(e,H),b(r,Gt),b(s,Tt),b(a,Dt),i.rawquerypipeline_intersectionsWithShape(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,a.__wbg_ptr,v(o),_,!l(c),l(c)?0:c,!l(h),l(h)?0:h,!l(w),l(w)?0:w,v(d))}finally{n[y++]=void 0,n[y++]=void 0}}collidersWithAabbIntersectingAabb(t,e,r){try{b(t,Gt),b(e,Gt),i.rawquerypipeline_collidersWithAabbIntersectingAabb(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,v(r))}finally{n[y++]=void 0}}}const vt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawraycolliderhit_free(t>>>0)));class St{static __wrap(t){t>>>=0;const e=Object.create(St.prototype);return e.__wbg_ptr=t,vt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,vt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawraycolliderhit_free(t)}colliderHandle(){return i.rawcharactercollision_handle(this.__wbg_ptr)}timeOfImpact(){return i.rawcollidershapecasthit_time_of_impact(this.__wbg_ptr)}}const Rt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawraycolliderintersection_free(t>>>0)));class Ct{static __wrap(t){t>>>=0;const e=Object.create(Ct.prototype);return e.__wbg_ptr=t,Rt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Rt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawraycolliderintersection_free(t)}colliderHandle(){return i.rawpointcolliderprojection_colliderHandle(this.__wbg_ptr)}normal(){const t=i.rawcollidershapecasthit_witness1(this.__wbg_ptr);return Gt.__wrap(t)}time_of_impact(){return i.rawcollidershapecasthit_time_of_impact(this.__wbg_ptr)}featureType(){return i.rawpointcolliderprojection_featureType(this.__wbg_ptr)}featureId(){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.rawpointcolliderprojection_featureId(r,this.__wbg_ptr);var t=d()[r/4+0],e=d()[r/4+1];return 0===t?void 0:e>>>0}finally{i.__wbindgen_add_to_stack_pointer(16)}}}const xt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawrayintersection_free(t>>>0)));class Et{static __wrap(t){t>>>=0;const e=Object.create(Et.prototype);return e.__wbg_ptr=t,xt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,xt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawrayintersection_free(t)}normal(){const t=i.rawcollidershapecasthit_witness1(this.__wbg_ptr);return Gt.__wrap(t)}time_of_impact(){return i.rawcollidershapecasthit_time_of_impact(this.__wbg_ptr)}featureType(){return i.rawpointcolliderprojection_featureType(this.__wbg_ptr)}featureId(){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.rawpointcolliderprojection_featureId(r,this.__wbg_ptr);var t=d()[r/4+0],e=d()[r/4+1];return 0===t?void 0:e>>>0}finally{i.__wbindgen_add_to_stack_pointer(16)}}}const At="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawrigidbodyset_free(t>>>0)));class It{static __wrap(t){t>>>=0;const e=Object.create(It.prototype);return e.__wbg_ptr=t,At.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,At.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawrigidbodyset_free(t)}rbTranslation(t){const e=i.rawrigidbodyset_rbTranslation(this.__wbg_ptr,t);return Gt.__wrap(e)}rbRotation(t){const e=i.rawrigidbodyset_rbRotation(this.__wbg_ptr,t);return Tt.__wrap(e)}rbSleep(t){i.rawrigidbodyset_rbSleep(this.__wbg_ptr,t)}rbIsSleeping(t){return 0!==i.rawrigidbodyset_rbIsSleeping(this.__wbg_ptr,t)}rbIsMoving(t){return 0!==i.rawrigidbodyset_rbIsMoving(this.__wbg_ptr,t)}rbNextTranslation(t){const e=i.rawrigidbodyset_rbNextTranslation(this.__wbg_ptr,t);return Gt.__wrap(e)}rbNextRotation(t){const e=i.rawrigidbodyset_rbNextRotation(this.__wbg_ptr,t);return Tt.__wrap(e)}rbSetTranslation(t,e,r,s,n){i.rawrigidbodyset_rbSetTranslation(this.__wbg_ptr,t,e,r,s,n)}rbSetRotation(t,e,r,s,n,a){i.rawrigidbodyset_rbSetRotation(this.__wbg_ptr,t,e,r,s,n,a)}rbSetLinvel(t,e,r){b(e,Gt),i.rawrigidbodyset_rbSetLinvel(this.__wbg_ptr,t,e.__wbg_ptr,r)}rbSetAngvel(t,e,r){b(e,Gt),i.rawrigidbodyset_rbSetAngvel(this.__wbg_ptr,t,e.__wbg_ptr,r)}rbSetNextKinematicTranslation(t,e,r,s){i.rawrigidbodyset_rbSetNextKinematicTranslation(this.__wbg_ptr,t,e,r,s)}rbSetNextKinematicRotation(t,e,r,s,n){i.rawrigidbodyset_rbSetNextKinematicRotation(this.__wbg_ptr,t,e,r,s,n)}rbRecomputeMassPropertiesFromColliders(t,e){b(e,H),i.rawrigidbodyset_rbRecomputeMassPropertiesFromColliders(this.__wbg_ptr,t,e.__wbg_ptr)}rbSetAdditionalMass(t,e,r){i.rawrigidbodyset_rbSetAdditionalMass(this.__wbg_ptr,t,e,r)}rbSetAdditionalMassProperties(t,e,r,s,n,a){b(r,Gt),b(s,Gt),b(n,Tt),i.rawrigidbodyset_rbSetAdditionalMassProperties(this.__wbg_ptr,t,e,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr,a)}rbLinvel(t){const e=i.rawrigidbodyset_rbLinvel(this.__wbg_ptr,t);return Gt.__wrap(e)}rbAngvel(t){const e=i.rawrigidbodyset_rbAngvel(this.__wbg_ptr,t);return Gt.__wrap(e)}rbLockTranslations(t,e,r){i.rawrigidbodyset_rbLockTranslations(this.__wbg_ptr,t,e,r)}rbSetEnabledTranslations(t,e,r,s,n){i.rawrigidbodyset_rbSetEnabledTranslations(this.__wbg_ptr,t,e,r,s,n)}rbLockRotations(t,e,r){i.rawrigidbodyset_rbLockRotations(this.__wbg_ptr,t,e,r)}rbSetEnabledRotations(t,e,r,s,n){i.rawrigidbodyset_rbSetEnabledRotations(this.__wbg_ptr,t,e,r,s,n)}rbDominanceGroup(t){return i.rawrigidbodyset_rbDominanceGroup(this.__wbg_ptr,t)}rbSetDominanceGroup(t,e){i.rawrigidbodyset_rbSetDominanceGroup(this.__wbg_ptr,t,e)}rbEnableCcd(t,e){i.rawrigidbodyset_rbEnableCcd(this.__wbg_ptr,t,e)}rbSetSoftCcdPrediction(t,e){i.rawrigidbodyset_rbSetSoftCcdPrediction(this.__wbg_ptr,t,e)}rbMass(t){return i.rawrigidbodyset_rbMass(this.__wbg_ptr,t)}rbInvMass(t){return i.rawrigidbodyset_rbInvMass(this.__wbg_ptr,t)}rbEffectiveInvMass(t){const e=i.rawrigidbodyset_rbEffectiveInvMass(this.__wbg_ptr,t);return Gt.__wrap(e)}rbLocalCom(t){const e=i.rawrigidbodyset_rbLocalCom(this.__wbg_ptr,t);return Gt.__wrap(e)}rbWorldCom(t){const e=i.rawrigidbodyset_rbWorldCom(this.__wbg_ptr,t);return Gt.__wrap(e)}rbInvPrincipalInertiaSqrt(t){const e=i.rawrigidbodyset_rbInvPrincipalInertiaSqrt(this.__wbg_ptr,t);return Gt.__wrap(e)}rbPrincipalInertiaLocalFrame(t){const e=i.rawrigidbodyset_rbPrincipalInertiaLocalFrame(this.__wbg_ptr,t);return Tt.__wrap(e)}rbPrincipalInertia(t){const e=i.rawrigidbodyset_rbPrincipalInertia(this.__wbg_ptr,t);return Gt.__wrap(e)}rbEffectiveWorldInvInertiaSqrt(t){const e=i.rawrigidbodyset_rbEffectiveWorldInvInertiaSqrt(this.__wbg_ptr,t);return Mt.__wrap(e)}rbEffectiveAngularInertia(t){const e=i.rawrigidbodyset_rbEffectiveAngularInertia(this.__wbg_ptr,t);return Mt.__wrap(e)}rbWakeUp(t){i.rawrigidbodyset_rbWakeUp(this.__wbg_ptr,t)}rbIsCcdEnabled(t){return 0!==i.rawrigidbodyset_rbIsCcdEnabled(this.__wbg_ptr,t)}rbSoftCcdPrediction(t){return i.rawrigidbodyset_rbSoftCcdPrediction(this.__wbg_ptr,t)}rbNumColliders(t){return i.rawrigidbodyset_rbNumColliders(this.__wbg_ptr,t)>>>0}rbCollider(t,e){return i.rawrigidbodyset_rbCollider(this.__wbg_ptr,t,e)}rbBodyType(t){return i.rawrigidbodyset_rbBodyType(this.__wbg_ptr,t)}rbSetBodyType(t,e,r){i.rawrigidbodyset_rbSetBodyType(this.__wbg_ptr,t,e,r)}rbIsFixed(t){return 0!==i.rawrigidbodyset_rbIsFixed(this.__wbg_ptr,t)}rbIsKinematic(t){return 0!==i.rawrigidbodyset_rbIsKinematic(this.__wbg_ptr,t)}rbIsDynamic(t){return 0!==i.rawrigidbodyset_rbIsDynamic(this.__wbg_ptr,t)}rbLinearDamping(t){return i.rawrigidbodyset_rbLinearDamping(this.__wbg_ptr,t)}rbAngularDamping(t){return i.rawrigidbodyset_rbAngularDamping(this.__wbg_ptr,t)}rbSetLinearDamping(t,e){i.rawrigidbodyset_rbSetLinearDamping(this.__wbg_ptr,t,e)}rbSetAngularDamping(t,e){i.rawrigidbodyset_rbSetAngularDamping(this.__wbg_ptr,t,e)}rbSetEnabled(t,e){i.rawrigidbodyset_rbSetEnabled(this.__wbg_ptr,t,e)}rbIsEnabled(t){return 0!==i.rawrigidbodyset_rbIsEnabled(this.__wbg_ptr,t)}rbGravityScale(t){return i.rawrigidbodyset_rbGravityScale(this.__wbg_ptr,t)}rbSetGravityScale(t,e,r){i.rawrigidbodyset_rbSetGravityScale(this.__wbg_ptr,t,e,r)}rbResetForces(t,e){i.rawrigidbodyset_rbResetForces(this.__wbg_ptr,t,e)}rbResetTorques(t,e){i.rawrigidbodyset_rbResetTorques(this.__wbg_ptr,t,e)}rbAddForce(t,e,r){b(e,Gt),i.rawrigidbodyset_rbAddForce(this.__wbg_ptr,t,e.__wbg_ptr,r)}rbApplyImpulse(t,e,r){b(e,Gt),i.rawrigidbodyset_rbApplyImpulse(this.__wbg_ptr,t,e.__wbg_ptr,r)}rbAddTorque(t,e,r){b(e,Gt),i.rawrigidbodyset_rbAddTorque(this.__wbg_ptr,t,e.__wbg_ptr,r)}rbApplyTorqueImpulse(t,e,r){b(e,Gt),i.rawrigidbodyset_rbApplyTorqueImpulse(this.__wbg_ptr,t,e.__wbg_ptr,r)}rbAddForceAtPoint(t,e,r,s){b(e,Gt),b(r,Gt),i.rawrigidbodyset_rbAddForceAtPoint(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s)}rbApplyImpulseAtPoint(t,e,r,s){b(e,Gt),b(r,Gt),i.rawrigidbodyset_rbApplyImpulseAtPoint(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s)}rbAdditionalSolverIterations(t){return i.rawrigidbodyset_rbAdditionalSolverIterations(this.__wbg_ptr,t)>>>0}rbSetAdditionalSolverIterations(t,e){i.rawrigidbodyset_rbSetAdditionalSolverIterations(this.__wbg_ptr,t,e)}rbUserData(t){return i.rawrigidbodyset_rbUserData(this.__wbg_ptr,t)>>>0}rbSetUserData(t,e){i.rawrigidbodyset_rbSetUserData(this.__wbg_ptr,t,e)}rbUserForce(t){const e=i.rawrigidbodyset_rbUserForce(this.__wbg_ptr,t);return Gt.__wrap(e)}rbUserTorque(t){const e=i.rawrigidbodyset_rbUserTorque(this.__wbg_ptr,t);return Gt.__wrap(e)}constructor(){const t=i.rawrigidbodyset_new();return this.__wbg_ptr=t>>>0,this}createRigidBody(t,e,r,s,n,a,o,_,l,c,h,w,d,p,u,g,m,f,y,v,S,R,C,x,E,A){return b(e,Gt),b(r,Tt),b(o,Gt),b(_,Gt),b(l,Gt),b(c,Gt),b(h,Tt),i.rawrigidbodyset_createRigidBody(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s,n,a,o.__wbg_ptr,_.__wbg_ptr,l.__wbg_ptr,c.__wbg_ptr,h.__wbg_ptr,w,d,p,u,g,m,f,y,v,S,R,C,x,E,A)}remove(t,e,r,s,n){b(e,at),b(r,H),b(s,rt),b(n,ct),i.rawrigidbodyset_remove(this.__wbg_ptr,t,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr)}len(){return i.rawcolliderset_len(this.__wbg_ptr)>>>0}contains(t){return 0!==i.rawrigidbodyset_contains(this.__wbg_ptr,t)}forEachRigidBodyHandle(t){try{i.rawrigidbodyset_forEachRigidBodyHandle(this.__wbg_ptr,v(t))}finally{n[y++]=void 0}}propagateModifiedBodyPositionsToColliders(t){b(t,H),i.rawrigidbodyset_propagateModifiedBodyPositionsToColliders(this.__wbg_ptr,t.__wbg_ptr)}}const Pt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawrotation_free(t>>>0)));class Tt{static __wrap(t){t>>>=0;const e=Object.create(Tt.prototype);return e.__wbg_ptr=t,Pt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Pt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawrotation_free(t)}constructor(t,e,r,s){const n=i.rawrotation_new(t,e,r,s);return this.__wbg_ptr=n>>>0,this}static identity(){const t=i.rawrotation_identity();return Tt.__wrap(t)}get x(){return i.rawrotation_x(this.__wbg_ptr)}get y(){return i.rawintegrationparameters_dt(this.__wbg_ptr)}get z(){return i.rawcollidershapecasthit_time_of_impact(this.__wbg_ptr)}get w(){return i.rawrotation_w(this.__wbg_ptr)}}const Ft="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawsdpmatrix3_free(t>>>0)));class Mt{static __wrap(t){t>>>=0;const e=Object.create(Mt.prototype);return e.__wbg_ptr=t,Ft.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ft.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawsdpmatrix3_free(t)}elements(){return _(i.rawsdpmatrix3_elements(this.__wbg_ptr))}}const jt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawserializationpipeline_free(t>>>0)));class zt{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,jt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawserializationpipeline_free(t)}constructor(){const t=i.rawserializationpipeline_new();return this.__wbg_ptr=t>>>0,this}serializeAll(t,e,r,s,n,a,o,l,c){return b(t,Gt),b(e,st),b(r,at),b(s,M),b(n,wt),b(a,It),b(o,H),b(l,rt),b(c,ct),_(i.rawserializationpipeline_serializeAll(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr,a.__wbg_ptr,o.__wbg_ptr,l.__wbg_ptr,c.__wbg_ptr))}deserializeAll(t){const e=i.rawserializationpipeline_deserializeAll(this.__wbg_ptr,o(t));return 0===e?void 0:X.__wrap(e)}}const kt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawshape_free(t>>>0)));class Dt{static __wrap(t){t>>>=0;const e=Object.create(Dt.prototype);return e.__wbg_ptr=t,kt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,kt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawshape_free(t)}static cuboid(t,e,r){const s=i.rawshape_cuboid(t,e,r);return Dt.__wrap(s)}static roundCuboid(t,e,r,s){const n=i.rawshape_roundCuboid(t,e,r,s);return Dt.__wrap(n)}static ball(t){const e=i.rawshape_ball(t);return Dt.__wrap(e)}static halfspace(t){b(t,Gt);const e=i.rawshape_halfspace(t.__wbg_ptr);return Dt.__wrap(e)}static capsule(t,e){const r=i.rawshape_capsule(t,e);return Dt.__wrap(r)}static cylinder(t,e){const r=i.rawshape_cylinder(t,e);return Dt.__wrap(r)}static roundCylinder(t,e,r){const s=i.rawshape_roundCylinder(t,e,r);return Dt.__wrap(s)}static cone(t,e){const r=i.rawshape_cone(t,e);return Dt.__wrap(r)}static roundCone(t,e,r){const s=i.rawshape_roundCone(t,e,r);return Dt.__wrap(s)}static polyline(t,e){const r=E(t,i.__wbindgen_malloc),s=x,n=A(e,i.__wbindgen_malloc),a=x,o=i.rawshape_polyline(r,s,n,a);return Dt.__wrap(o)}static trimesh(t,e,r){const s=E(t,i.__wbindgen_malloc),n=x,a=A(e,i.__wbindgen_malloc),o=x,_=i.rawshape_trimesh(s,n,a,o,r);return Dt.__wrap(_)}static heightfield(t,e,r,s,n){const a=E(r,i.__wbindgen_malloc),o=x;b(s,Gt);const _=i.rawshape_heightfield(t,e,a,o,s.__wbg_ptr,n);return Dt.__wrap(_)}static segment(t,e){b(t,Gt),b(e,Gt);const r=i.rawshape_segment(t.__wbg_ptr,e.__wbg_ptr);return Dt.__wrap(r)}static triangle(t,e,r){b(t,Gt),b(e,Gt),b(r,Gt);const s=i.rawshape_triangle(t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr);return Dt.__wrap(s)}static roundTriangle(t,e,r,s){b(t,Gt),b(e,Gt),b(r,Gt);const n=i.rawshape_roundTriangle(t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s);return Dt.__wrap(n)}static convexHull(t){const e=E(t,i.__wbindgen_malloc),r=x,s=i.rawshape_convexHull(e,r);return 0===s?void 0:Dt.__wrap(s)}static roundConvexHull(t,e){const r=E(t,i.__wbindgen_malloc),s=x,n=i.rawshape_roundConvexHull(r,s,e);return 0===n?void 0:Dt.__wrap(n)}static convexMesh(t,e){const r=E(t,i.__wbindgen_malloc),s=x,n=A(e,i.__wbindgen_malloc),a=x,o=i.rawshape_convexMesh(r,s,n,a);return 0===o?void 0:Dt.__wrap(o)}static roundConvexMesh(t,e,r){const s=E(t,i.__wbindgen_malloc),n=x,a=A(e,i.__wbindgen_malloc),o=x,_=i.rawshape_roundConvexMesh(s,n,a,o,r);return 0===_?void 0:Dt.__wrap(_)}castShape(t,e,r,s,n,a,o,_,l,c){b(t,Gt),b(e,Tt),b(r,Gt),b(s,Dt),b(n,Gt),b(a,Tt),b(o,Gt);const h=i.rawshape_castShape(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr,a.__wbg_ptr,o.__wbg_ptr,_,l,c);return 0===h?void 0:Ht.__wrap(h)}intersectsShape(t,e,r,s,n){return b(t,Gt),b(e,Tt),b(r,Dt),b(s,Gt),b(n,Tt),0!==i.rawshape_intersectsShape(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr)}contactShape(t,e,r,s,n,a){b(t,Gt),b(e,Tt),b(r,Dt),b(s,Gt),b(n,Tt);const o=i.rawshape_contactShape(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n.__wbg_ptr,a);return 0===o?void 0:Bt.__wrap(o)}containsPoint(t,e,r){return b(t,Gt),b(e,Tt),b(r,Gt),0!==i.rawshape_containsPoint(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr)}projectPoint(t,e,r,s){b(t,Gt),b(e,Tt),b(r,Gt);const n=i.rawshape_projectPoint(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s);return mt.__wrap(n)}intersectsRay(t,e,r,s,n){return b(t,Gt),b(e,Tt),b(r,Gt),b(s,Gt),0!==i.rawshape_intersectsRay(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n)}castRay(t,e,r,s,n,a){return b(t,Gt),b(e,Tt),b(r,Gt),b(s,Gt),i.rawshape_castRay(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n,a)}castRayAndGetNormal(t,e,r,s,n,a){b(t,Gt),b(e,Tt),b(r,Gt),b(s,Gt);const o=i.rawshape_castRayAndGetNormal(this.__wbg_ptr,t.__wbg_ptr,e.__wbg_ptr,r.__wbg_ptr,s.__wbg_ptr,n,a);return 0===o?void 0:Et.__wrap(o)}}const Lt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawshapecasthit_free(t>>>0)));class Ht{static __wrap(t){t>>>=0;const e=Object.create(Ht.prototype);return e.__wbg_ptr=t,Lt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Lt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawshapecasthit_free(t)}time_of_impact(){return i.rawrotation_x(this.__wbg_ptr)}witness1(){const t=i.rawshapecasthit_witness1(this.__wbg_ptr);return Gt.__wrap(t)}witness2(){const t=i.rawcontactforceevent_total_force(this.__wbg_ptr);return Gt.__wrap(t)}normal1(){const t=i.rawshapecasthit_normal1(this.__wbg_ptr);return Gt.__wrap(t)}normal2(){const t=i.rawshapecasthit_normal2(this.__wbg_ptr);return Gt.__wrap(t)}}const Nt="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawshapecontact_free(t>>>0)));class Bt{static __wrap(t){t>>>=0;const e=Object.create(Bt.prototype);return e.__wbg_ptr=t,Nt.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Nt.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawshapecontact_free(t)}distance(){return i.rawkinematiccharactercontroller_maxSlopeClimbAngle(this.__wbg_ptr)}point1(){const t=i.rawpointprojection_point(this.__wbg_ptr);return Gt.__wrap(t)}point2(){const t=i.rawcollidershapecasthit_witness1(this.__wbg_ptr);return Gt.__wrap(t)}normal1(){const t=i.rawcollidershapecasthit_witness2(this.__wbg_ptr);return Gt.__wrap(t)}normal2(){const t=i.rawcharactercollision_translationDeltaApplied(this.__wbg_ptr);return Gt.__wrap(t)}}const Ot="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_rawvector_free(t>>>0)));class Gt{static __wrap(t){t>>>=0;const e=Object.create(Gt.prototype);return e.__wbg_ptr=t,Ot.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Ot.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_rawvector_free(t)}static zero(){const t=i.rawvector_zero();return Gt.__wrap(t)}constructor(t,e,r){const s=i.rawvector_new(t,e,r);return this.__wbg_ptr=s>>>0,this}get x(){return i.rawrotation_x(this.__wbg_ptr)}set x(t){i.rawvector_set_x(this.__wbg_ptr,t)}get y(){return i.rawintegrationparameters_dt(this.__wbg_ptr)}set y(t){i.rawintegrationparameters_set_dt(this.__wbg_ptr,t)}get z(){return i.rawcollidershapecasthit_time_of_impact(this.__wbg_ptr)}set z(t){i.rawvector_set_z(this.__wbg_ptr,t)}xyz(){const t=i.rawvector_xyz(this.__wbg_ptr);return Gt.__wrap(t)}yxz(){const t=i.rawvector_yxz(this.__wbg_ptr);return Gt.__wrap(t)}zxy(){const t=i.rawvector_zxy(this.__wbg_ptr);return Gt.__wrap(t)}xzy(){const t=i.rawvector_xzy(this.__wbg_ptr);return Gt.__wrap(t)}yzx(){const t=i.rawvector_yzx(this.__wbg_ptr);return Gt.__wrap(t)}zyx(){const t=i.rawvector_zyx(this.__wbg_ptr);return Gt.__wrap(t)}}},788:(t,e,r)=>{var i=r(706),s=r(9464),n=r(5523),a=r(4760),o=r(3214);class _{constructor(){this.objModel=null,this.materials=null,this.modelScale=.001}static getInstance(){return _.instance||(_.instance=new _),_.instance}async loadAssets(){const[t,e]=await Promise.all([this.loadOBJ("/models/Paperclip/Paperclip.obj"),this.loadMTL("/models/Paperclip/Paperclip.mtl")]);this.objModel=t,this.materials=e}loadOBJ(t){return new Promise(((e,r)=>{(new a.L).load(t,e,void 0,r)}))}loadMTL(t){return new Promise(((e,r)=>{(new o.V).load(t,e,void 0,r)}))}createPaperclip(t){return this.objModel&&this.materials?new l(this.objModel,this.materials,this.modelScale,t):null}}class l{constructor(t,e,r,i){this.hitbox={x:.242,y:.066,z:.006},this.mesh=t.clone(),this.mesh.scale.setScalar(r),this.mesh.position.set(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1);const a=(new s.PTz).setFromEuler(new s.O9p(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI));this.mesh.quaternion.copy(a),e.preload(),this.mesh.traverse((t=>{t instanceof s.eaF&&(t.material=e.materials[Object.keys(e.materials)[0]],t.material.metalness=.8,t.material.roughness=.2,t.castShadow=!0,t.receiveShadow=!0)})),this.rigidBody=i.createRigidBody(n.Ay.RigidBodyDesc.newDynamic().setTranslation(this.mesh.position.x,this.mesh.position.y,this.mesh.position.z).setRotation(a)),i.createCollider(n.Ay.ColliderDesc.cuboid(this.hitbox.x,this.hitbox.y,this.hitbox.z),this.rigidBody)}update(){const t=this.rigidBody.translation(),e=this.rigidBody.rotation();this.mesh.position.set(t.x,t.y,t.z),this.mesh.quaternion.set(e.x,e.y,e.z,e.w)}}class c{constructor(t){this.size={x:.2,y:.2,z:.2};const e=new s.iNn(2*this.size.x,2*this.size.y,2*this.size.z),r=new s._4j({color:16777215,metalness:.5,roughness:.5});this.mesh=new s.eaF(e,r),this.mesh.position.set(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1);const i=(new s.PTz).setFromEuler(new s.O9p(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI));this.mesh.quaternion.copy(i),this.mesh.castShadow=!0,this.mesh.receiveShadow=!0,this.rigidBody=t.createRigidBody(n.Ay.RigidBodyDesc.newDynamic().setTranslation(this.mesh.position.x,this.mesh.position.y,this.mesh.position.z).setRotation(i)),t.createCollider(n.Ay.ColliderDesc.cuboid(this.size.x,this.size.y,this.size.z),this.rigidBody)}update(){const t=this.rigidBody.translation(),e=this.rigidBody.rotation();this.mesh.position.set(t.x,t.y,t.z),this.mesh.quaternion.set(e.x,e.y,e.z,e.w)}}new i.t1({nav:!1,renderer:"three.js"}).clear_canvas().asyncScratchpad((async t=>{const e=t.width,r=t.height,i=t.three_renderer,a=new s.ubm(70,e/r,.01,10);a.position.z=1;const o=new s.Z58;o.background=new s.Q1f(2236962);const l=new s.$p8(4210752,2);o.add(l);const h=new s.ZyN(16777215,1.5);h.position.set(5,5,5),h.castShadow=!0,h.shadow.mapSize.width=2048,h.shadow.mapSize.height=2048,o.add(h);const w=new s.HiM(16777215,1,100);w.position.set(0,2,2),w.castShadow=!0,o.add(w),i.shadowMap.enabled=!0,i.shadowMap.type=s.Wk7;let d=new n.Ay.World(new n.Ay.Vector3(0,-9.81,0)),p=n.Ay.ColliderDesc.cuboid(10,.1,10);d.createCollider(p).setTranslation({x:0,y:-1,z:0});const u=[],g=[],b=(setInterval((t=>{if(console.log("Spawning paperclip",t),function(){const t=b.createPaperclip(d);t&&(o.add(t.mesh),u.push(t))}(),u.length>100){const t=[...u];u.length=0,t.forEach((t=>{o.remove(t.mesh),d.removeRigidBody(t.rigidBody)})),g.push(function(){const t=new c(d);return o.add(t.mesh),t}())}}),10),_.getInstance());await b.loadAssets(),i.setAnimationLoop((function(t){d.step(),[...u].forEach((t=>{t.update()})),[...g].forEach((t=>{t.update()})),a.position.x=2*Math.sin(.7*t/1e3),a.position.z=2*Math.cos(.7*t/1e3),a.lookAt(0,0,0),i.render(o,a)}))}))},3214:(t,e,r)=>{r.d(e,{V:()=>s});var i=r(9464);class s extends i.aHM{constructor(t){super(t)}load(t,e,r,s){const n=this,a=""===this.path?i.r6x.extractUrlBase(t):this.path,o=new i.Y9S(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(r){try{e(n.parse(r,a))}catch(e){s?s(e):console.error(e),n.manager.itemError(t)}}),r,s)}setMaterialOptions(t){return this.materialOptions=t,this}parse(t,e){const r=t.split("\n");let i={};const s=/\s+/,a={};for(let t=0;t<r.length;t++){let e=r[t];if(e=e.trim(),0===e.length||"#"===e.charAt(0))continue;const n=e.indexOf(" ");let o=n>=0?e.substring(0,n):e;o=o.toLowerCase();let _=n>=0?e.substring(n+1):"";if(_=_.trim(),"newmtl"===o)i={name:_},a[_]=i;else if("ka"===o||"kd"===o||"ks"===o||"ke"===o){const t=_.split(s,3);i[o]=[parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2])]}else i[o]=_}const o=new n(this.resourcePath||e,this.materialOptions);return o.setCrossOrigin(this.crossOrigin),o.setManager(this.manager),o.setMaterials(a),o}}class n{constructor(t="",e={}){this.baseUrl=t,this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=void 0!==this.options.side?this.options.side:i.hB5,this.wrap=void 0!==this.options.wrap?this.options.wrap:i.GJx}setCrossOrigin(t){return this.crossOrigin=t,this}setManager(t){this.manager=t}setMaterials(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(t){if(!this.options)return t;const e={};for(const r in t){const i=t[r],s={};e[r]=s;for(const t in i){let e=!0,r=i[t];const n=t.toLowerCase();switch(n){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(r=[r[0]/255,r[1]/255,r[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===r[0]&&0===r[1]&&0===r[2]&&(e=!1)}e&&(s[n]=r)}}return e}preload(){for(const t in this.materialsInfo)this.create(t)}getIndex(t){return this.nameLookup[t]}getAsArray(){let t=0;for(const e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray}create(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]}createMaterial_(t){const e=this,r=this.materialsInfo[t],s={name:t,side:this.side};function n(t,r){if(s[t])return;const n=e.getTextureParams(r,s),a=e.loadTexture((o=e.baseUrl,"string"!=typeof(_=n.url)||""===_?"":/^https?:\/\//i.test(_)?_:o+_));var o,_;a.repeat.copy(n.scale),a.offset.copy(n.offset),a.wrapS=e.wrap,a.wrapT=e.wrap,"map"!==t&&"emissiveMap"!==t||(a.colorSpace=i.er$),s[t]=a}for(const t in r){const e=r[t];let a;if(""!==e)switch(t.toLowerCase()){case"kd":s.color=i.ppV.toWorkingColorSpace((new i.Q1f).fromArray(e),i.er$);break;case"ks":s.specular=i.ppV.toWorkingColorSpace((new i.Q1f).fromArray(e),i.er$);break;case"ke":s.emissive=i.ppV.toWorkingColorSpace((new i.Q1f).fromArray(e),i.er$);break;case"map_kd":n("map",e);break;case"map_ks":n("specularMap",e);break;case"map_ke":n("emissiveMap",e);break;case"norm":n("normalMap",e);break;case"map_bump":case"bump":n("bumpMap",e);break;case"map_d":n("alphaMap",e),s.transparent=!0;break;case"ns":s.shininess=parseFloat(e);break;case"d":a=parseFloat(e),a<1&&(s.opacity=a,s.transparent=!0);break;case"tr":a=parseFloat(e),this.options&&this.options.invertTrProperty&&(a=1-a),a>0&&(s.opacity=1-a,s.transparent=!0)}}return this.materials[t]=new i.tXL(s),this.materials[t]}getTextureParams(t,e){const r={scale:new i.I9Y(1,1),offset:new i.I9Y(0,0)},s=t.split(/\s+/);let n;return n=s.indexOf("-bm"),n>=0&&(e.bumpScale=parseFloat(s[n+1]),s.splice(n,2)),n=s.indexOf("-s"),n>=0&&(r.scale.set(parseFloat(s[n+1]),parseFloat(s[n+2])),s.splice(n,4)),n=s.indexOf("-o"),n>=0&&(r.offset.set(parseFloat(s[n+1]),parseFloat(s[n+2])),s.splice(n,4)),r.url=s.join(" ").trim(),r}loadTexture(t,e,r,s,n){const a=void 0!==this.manager?this.manager:i.h_9;let o=a.getHandler(t);null===o&&(o=new i.Tap(a)),o.setCrossOrigin&&o.setCrossOrigin(this.crossOrigin);const _=o.load(t,r,s,n);return void 0!==e&&(_.mapping=e),_}}},4760:(t,e,r)=>{r.d(e,{L:()=>g});var i=r(9464);const s=/^[og]\s*(.+)?/,n=/^mtllib /,a=/^usemtl /,o=/^usemap /,_=/\s+/,l=new i.Pq0,c=new i.Pq0,h=new i.Pq0,w=new i.Pq0,d=new i.Pq0,p=new i.Q1f;function u(){const t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);const r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,e){const r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);const i={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){const e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){const e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(let t=this.materials.length-1;t>=0;t--)this.materials[t].groupCount<=0&&this.materials.splice(t,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},r&&r.name&&"function"==typeof r.clone){const t=r.clone(0);t.inherited=!0,this.object.materials.push(t)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){const r=parseInt(t,10);return 3*(r>=0?r-1:r+e/3)},parseNormalIndex:function(t,e){const r=parseInt(t,10);return 3*(r>=0?r-1:r+e/3)},parseUVIndex:function(t,e){const r=parseInt(t,10);return 2*(r>=0?r-1:r+e/2)},addVertex:function(t,e,r){const i=this.vertices,s=this.object.geometry.vertices;s.push(i[t+0],i[t+1],i[t+2]),s.push(i[e+0],i[e+1],i[e+2]),s.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(t){const e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){const e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,r){const i=this.normals,s=this.object.geometry.normals;s.push(i[t+0],i[t+1],i[t+2]),s.push(i[e+0],i[e+1],i[e+2]),s.push(i[r+0],i[r+1],i[r+2])},addFaceNormal:function(t,e,r){const i=this.vertices,s=this.object.geometry.normals;l.fromArray(i,t),c.fromArray(i,e),h.fromArray(i,r),d.subVectors(h,c),w.subVectors(l,c),d.cross(w),d.normalize(),s.push(d.x,d.y,d.z),s.push(d.x,d.y,d.z),s.push(d.x,d.y,d.z)},addColor:function(t,e,r){const i=this.colors,s=this.object.geometry.colors;void 0!==i[t]&&s.push(i[t+0],i[t+1],i[t+2]),void 0!==i[e]&&s.push(i[e+0],i[e+1],i[e+2]),void 0!==i[r]&&s.push(i[r+0],i[r+1],i[r+2])},addUV:function(t,e,r){const i=this.uvs,s=this.object.geometry.uvs;s.push(i[t+0],i[t+1]),s.push(i[e+0],i[e+1]),s.push(i[r+0],i[r+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,r,i,s,n,a,o,_){const l=this.vertices.length;let c=this.parseVertexIndex(t,l),h=this.parseVertexIndex(e,l),w=this.parseVertexIndex(r,l);if(this.addVertex(c,h,w),this.addColor(c,h,w),void 0!==a&&""!==a){const t=this.normals.length;c=this.parseNormalIndex(a,t),h=this.parseNormalIndex(o,t),w=this.parseNormalIndex(_,t),this.addNormal(c,h,w)}else this.addFaceNormal(c,h,w);if(void 0!==i&&""!==i){const t=this.uvs.length;c=this.parseUVIndex(i,t),h=this.parseUVIndex(s,t),w=this.parseUVIndex(n,t),this.addUV(c,h,w),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const e=this.vertices.length;for(let r=0,i=t.length;r<i;r++){const i=this.parseVertexIndex(t[r],e);this.addVertexPoint(i),this.addColor(i)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";const r=this.vertices.length,i=this.uvs.length;for(let e=0,i=t.length;e<i;e++)this.addVertexLine(this.parseVertexIndex(t[e],r));for(let t=0,r=e.length;t<r;t++)this.addUVLine(this.parseUVIndex(e[t],i))}};return t.startObject("",!1),t}class g extends i.aHM{constructor(t){super(t),this.materials=null}load(t,e,r,s){const n=this,a=new i.Y9S(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,(function(r){try{e(n.parse(r))}catch(e){s?s(e):console.error(e),n.manager.itemError(t)}}),r,s)}setMaterials(t){return this.materials=t,this}parse(t){const e=new u;-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));const r=t.split("\n");let l=[];for(let t=0,c=r.length;t<c;t++){const c=r[t].trimStart();if(0===c.length)continue;const h=c.charAt(0);if("#"!==h)if("v"===h){const t=c.split(_);switch(t[0]){case"v":e.vertices.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),t.length>=7?(p.setRGB(parseFloat(t[4]),parseFloat(t[5]),parseFloat(t[6]),i.er$),e.colors.push(p.r,p.g,p.b)):e.colors.push(void 0,void 0,void 0);break;case"vn":e.normals.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]));break;case"vt":e.uvs.push(parseFloat(t[1]),parseFloat(t[2]))}}else if("f"===h){const t=c.slice(1).trim().split(_),r=[];for(let e=0,i=t.length;e<i;e++){const i=t[e];if(i.length>0){const t=i.split("/");r.push(t)}}const i=r[0];for(let t=1,s=r.length-1;t<s;t++){const s=r[t],n=r[t+1];e.addFace(i[0],s[0],n[0],i[1],s[1],n[1],i[2],s[2],n[2])}}else if("l"===h){const t=c.substring(1).trim().split(" ");let r=[];const i=[];if(-1===c.indexOf("/"))r=t;else for(let e=0,s=t.length;e<s;e++){const s=t[e].split("/");""!==s[0]&&r.push(s[0]),""!==s[1]&&i.push(s[1])}e.addLineGeometry(r,i)}else if("p"===h){const t=c.slice(1).trim().split(" ");e.addPointGeometry(t)}else if(null!==(l=s.exec(c))){const t=(" "+l[0].slice(1).trim()).slice(1);e.startObject(t)}else if(a.test(c))e.object.startMaterial(c.substring(7).trim(),e.materialLibraries);else if(n.test(c))e.materialLibraries.push(c.substring(7).trim());else if(o.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===h){if(l=c.split(" "),l.length>1){const t=l[1].trim().toLowerCase();e.object.smooth="0"!==t&&"off"!==t}else e.object.smooth=!0;const t=e.object.currentMaterial();t&&(t.smooth=e.object.smooth)}else{if("\0"===c)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}e.finalize();const c=new i.YJl;if(c.materialLibraries=[].concat(e.materialLibraries),!0==!(1===e.objects.length&&0===e.objects[0].geometry.vertices.length))for(let t=0,r=e.objects.length;t<r;t++){const r=e.objects[t],s=r.geometry,n=r.materials,a="Line"===s.type,o="Points"===s.type;let _=!1;if(0===s.vertices.length)continue;const l=new i.LoY;l.setAttribute("position",new i.qtW(s.vertices,3)),s.normals.length>0&&l.setAttribute("normal",new i.qtW(s.normals,3)),s.colors.length>0&&(_=!0,l.setAttribute("color",new i.qtW(s.colors,3))),!0===s.hasUVIndices&&l.setAttribute("uv",new i.qtW(s.uvs,2));const h=[];for(let t=0,r=n.length;t<r;t++){const r=n[t],s=r.name+"_"+r.smooth+"_"+_;let l=e.materials[s];if(null!==this.materials)if(l=this.materials.create(r.name),!a||!l||l instanceof i.mrM){if(o&&l&&!(l instanceof i.BH$)){const t=new i.BH$({size:10,sizeAttenuation:!1});i.imn.prototype.copy.call(t,l),t.color.copy(l.color),t.map=l.map,l=t}}else{const t=new i.mrM;i.imn.prototype.copy.call(t,l),t.color.copy(l.color),l=t}void 0===l&&(l=a?new i.mrM:o?new i.BH$({size:1,sizeAttenuation:!1}):new i.tXL,l.name=r.name,l.flatShading=!r.smooth,l.vertexColors=_,e.materials[s]=l),h.push(l)}let w;if(h.length>1){for(let t=0,e=n.length;t<e;t++){const e=n[t];l.addGroup(e.groupStart,e.groupCount,t)}w=a?new i.DXC(l,h):o?new i.ONl(l,h):new i.eaF(l,h)}else w=a?new i.DXC(l,h[0]):o?new i.ONl(l,h[0]):new i.eaF(l,h[0]);w.name=r.name,c.add(w)}else if(e.vertices.length>0){const t=new i.BH$({size:1,sizeAttenuation:!1}),r=new i.LoY;r.setAttribute("position",new i.qtW(e.vertices,3)),e.colors.length>0&&void 0!==e.colors[0]&&(r.setAttribute("color",new i.qtW(e.colors,3)),t.vertexColors=!0);const s=new i.ONl(r,t);c.add(s)}return c}}}},t=>{t(t.s=788)}]);