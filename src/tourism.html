<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Tourism</title>

	<link rel="stylesheet" href="//cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/chart.css">

</head>
<body>
<header>
	<div class="blur_background">
		<div class="mask"></div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<h1>Tourism Statistics</h1>
				<h2>#MakeoverMonday from 2018-06-11</h2>
			</div>
		</div>
	</div>
</header>
<div class="container page dataviz-page">

	<div class="row" id="dataset">
		<div class="col-xs-12 col-sm-6"></div>
		<div class="col-xs-12 col-sm-6">
			<table>
				<thead><tr></tr></thead>
				<tbody></tbody>
			</table>
			<a style="float: right;" target="_blank" href="/mm/2018-06-11/tourism.csv">Download CSV</a>
		</div>
	</div>

	<div class="row" id="eliza">
		<div class="col-xs-12 col-sm-6"></div>
		<div class="col-xs-12 col-sm-6">
			<a target="_blank" href="/mm/2018-06-11/ElizaSavov.png"><img src="/mm/2018-06-11/ElizaSavov.png"></a>
			<span>Viz by <a target="_blank" href="https://data.world/elisavova">Eliza Savov</a></span>
		</div>
	</div>

	<div class="row" id="eliza_remake">
		<div class="col-xs-12"></div>
	</div>

</div>

<footer>
	<div class="container">
		<div class="row">
			<p class="col-xs-6">Simple <a href="https://github.com/david-ma/Thalia">Thalia</a> Bootstrap Boilerplate</p>
			<p class="col-xs-6 text-right">By <a href="https://twitter.com/frostickle">@Frostickle</a> <i class="fab fa-twitter" aria-hidden="true"></i></p>
		</div>
	</div>
</footer>
<script src="/js/vendor.min.js"></script>
<script src="/js/chart.js"></script>
<script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="//cdn.rawgit.com/showdownjs/showdown/1.8.6/dist/showdown.min.js"></script>

<script>
    d3.csv("/mm/2018-06-11/tourism.csv", function(d){
        return d;
    }).then(function(data){
        const table = d3.select("#dataset table");

        table.select("tbody")
            .selectAll("tr")
            .data(data)
            .enter()
            .append("tr")
            .each(function(d){
                const tr = d3.select(this);
                data.columns.forEach(function(col){
                    tr.append("td").text(d[col]);
                })
            });

        const headerRow = table.select("thead tr");
        data.columns.forEach(function(column){
            headerRow.append("th").text(column);
        });

        $("#dataset table").dataTable({
            paging: false,
            searching: false,
            bFilter: false,
            bInfo: false
        });

        return data;
    }).then(function(data){

        const eliza_remake = new Chart({
            element: "eliza_remake",
            data: data,
			width: 1000,
			height: 400,
			margin: {
                top: 20,
				bottom: 20,
				left: 20,
				right: 20
			}
        }).scratchpad(function(c){
            console.log(c);

            const svg = c.plot,
                width = c.innerWidth,
                height = c.innerHeight,
                data = c.data;

            console.log(data);


            const 	gap = 10,
					margin = 20,
					bh = height * 0.8,			// box height & box width
				  	bw = ((width - (margin * 2)) / data.length) - gap,
					top = height * 0.1;

            svg.selectAll(".country")
                .data(data)
				.enter()
                .append("g")
                .classed("country", true)
                .attr("id", (d) => `erg-${camelize(d.Country)}`) // Eliza Remake Group
                .each(function(d, i){
                    const g = d3.select(this);
                    g.attr("transform", `translate(${margin + i * (bw + gap)}, ${top})`);

                    g.append("rect")
						.attrs({
							height: bh,
							width: bw,
							fill: "grey"
						});

                    console.log(d);
                });
        });
	});

    const md = new showdown.Converter({
        openLinksInNewWindow: true
    });


    $("#dataset>div:first-child").html(md.makeHtml(`
# MakeoverMonday

This dataset is...

    `));


    $("#eliza>div:first-child").html(md.makeHtml(`
# Tourism Density Contrasts
## by [@Eliza Savov](//data.world/elisavova) - [original](//datastudio.google.com/reporting/1lBu43kf6_2PU0M1EN97t3XJY_j43utNO/page/sSFT)

Countries in which the local <span style="color:#3949ab; font-weight: 900;">population</span> is vastly outnumbered by <span style="color:#c2185b; font-weight: 900;">tourists</span> suffer from _overtourism_. At the other end of the spectrum are destinations in which tourists account for up to 9% of all people in the country, and where [Intrepid](//www.intrepidtravel.com/au/adventure-index) focuses their promotional efforts to overcome _undertourism_.


> **Source:** World Tourism Organization (2018), Compendium of Tourism Statistics dataset [Electronic], UNWTO, Madrid, data updated on 15/01/2018.
>
> **Original viz:** [Intrepid Travel](//intrepidgroup.bynder.com/transfer/bdd0abcac448329ed4c9057327b6ca660742e4b5ea16f18bd5a343b2c6d0d0c8)
>
> **Created by:** Eliza Savov in Data Studio for [#MakeoverMonday](http://makeovermonday.co.uk/)
`));




</script>


</body>
</html>











