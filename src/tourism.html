<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Tourism</title>

	<link rel="stylesheet" href="//cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css">
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/chart.css">

</head>
<body>
<header>
	<div class="blur_background">
		<div class="mask"></div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<h1>Tourism Statistics</h1>
				<h2>#MakeoverMonday from 2018-06-11</h2>
			</div>
		</div>
	</div>
</header>
<div class="container page">

	<div class="row">
		<div class="col-xs-12 col-sm-6" id="info">
			<h1>Hello</h1>
			<p>This is the makeover monday stuff</p>
		</div>
		<div class="col-xs-12 col-sm-6" id="data">
			<table>
				<thead><tr></tr></thead>
				<tbody></tbody>
			</table>
			<a style="float: right;" target="_blank" href="/mm/2018-06-11/tourism.csv">Download CSV</a>
		</div>
	</div>

</div>

<div class="container-page"></div>

<footer>
	<div class="container">
		<div class="row">
			<p class="col-xs-6">Simple <a href="https://github.com/david-ma/Thalia">Thalia</a> Bootstrap Boilerplate</p>
			<p class="col-xs-6 text-right">By <a href="https://twitter.com/frostickle">@Frostickle</a> <i class="fab fa-twitter" aria-hidden="true"></i></p>
		</div>
	</div>
</footer>
<script src="/js/vendor.min.js"></script>
<script src="/js/chart.js"></script>
<script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>


<script>
    const data = [];
    d3.csv("/mm/2018-06-11/tourism.csv", function(d){
        data.push(d);
        return d;
    }).then(function(results){
        console.log(results);

        d3.select("#data table tbody")
            .selectAll("tr")
            .data(results)
            .enter()
            .append("tr")
            .each(function(d){
                const tr = d3.select(this);
                results.columns.forEach(function(col){
                    tr.append("td").text(d[col]);
                })
            });

        const headerRow = d3.select("#data table thead tr");
        results.columns.forEach(function(column){
            headerRow.append("th").text(column);
        });

        $("#data table").dataTable({
            paging: false,
            searching: false,
            bFilter: false,
            bInfo: false
        });
    });

</script>


</body>
</html>











