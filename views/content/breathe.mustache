
<style>
.polygon.hidden {
  display: none;
}
</style>

<section id="breathe" class="blogpost">
  <div class="row" id="contentBox">
    <div class="col-xs-12 col-md-6">
      <h1>Breathing Polygons</h1>
      <div id='breatheDiv'></div>

      <div id="tabs">
        <input type="radio" id="optionTab" name="tabs" value="optionTab" checked="true">
        <label for="optionTab">Options</label>

        <input type="radio" id="blogpostTab" name="tabs" value="blogpostTab">
        <label for="blogpostTab">Blogpost</label>
      </div>

      <div id="blogcontent" class="tabbedContent">
        <div class="col-xs-12 col-lg-8" id="explain"></div>
        <div class="col-xs-12 col-lg-4"><img style="width: 100%;" src="/images/breathe/breathe-in-out-A.gif"></div>
      </div>
    </div>
    <div class="col-xs-12 col-md-6 tabbedContent selected">
      <h2>Options:</h2>
      <div id='options'>
        <div class="option">
          <input type="radio" id="showOutlines" name="outlines" value="showOutlines" checked="true">
          <label for="showOutlines">Show Outlines</label><br>

          <input type="radio" id="hideOutlines" name="outlines" value="hideOutlines">
          <label for="hideOutlines">Hide Outlines</label>
        </div>

        <div class="option">
          <label for="hideOutlines">Speed:</label><br>

          <input id="speedSlider" type="range" min="1" max="100" value="50">
          <div><div pseudo="-webkit-slider-runnable-track" id="track"><div id="thumb"></div></div></div>
          </input>
        </div>

        <div class="option">
          <input type="radio" id="pastels" name="colors" value="pastels" checked="true">
          <label for="pastels">Pastel colors</label><br>

          <input type="radio" id="monochrome" name="colors" value="monochrome">
          <label for="monochrome">Monochrome</label>
        </div>

        <div class="option">
          <label for="hideOutlines">Number of shapes:</label><br>

          <input id="verticesSlider" type="range" min="4" max="25" value="14">
          <div><div pseudo="-webkit-slider-runnable-track" id="track"><div id="thumb"></div></div></div>
          </input>
        </div>


        {{!-- <input type="button" value="Toggle Outlines" onclick='$(".polygon").toggleClass("hidden");'> --}}
      </div>

      <h2>Timing Data:</h2>
      <div id='timing'><table></table></div>
      <div id="colorExplain"></div>
    </div>
  </div>

  <br>
  <br>
  <br>
</section>

<style>
svg line {
  stroke: black;
  stroke-width: 2;
}
</style>
{{> require}}

<script>
  const md = new showdown.Converter({openLinksInNewWindow: true});

  $("#explain").html(md.makeHtml(`
This gif has been shared around the internet for a bit, but I can't find the original source.

The fuzzy edges and aliasing bothered me so I decided to recreate it in d3.js

I've added colors!

Todo:
- save output as gif? save output as svg?
- Update the table number of shapes is changed

svg to gif example:<br>
[bl.ocks.org/veltman](https://bl.ocks.org/veltman/1071413ad6b5b542a1a3)

svg animations help:<br>
[css-tricks.com](https://css-tricks.com/guide-svg-animations-smil/)
`))

$("#colorExplain").html(md.makeHtml(`
Colors thanks to [Color Brewer](https://colorbrewer2.org/#type=diverging&scheme=Spectral&n=11), which is named such because it was made by Cynthia Brewer, not because you brew colors with it.
`))
</script>